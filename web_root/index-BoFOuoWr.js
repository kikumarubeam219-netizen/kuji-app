(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var am={exports:{}},Il={};var Rv;function qw(){if(Rv)return Il;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var Cv;function Hw(){return Cv||(Cv=1,am.exports=qw()),am.exports}var w=Hw(),om={exports:{}},Se={};var Iv;function Fw(){if(Iv)return Se;Iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),R=Symbol.iterator;function V(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,k={};function Y(M,te,oe){this.props=M,this.context=te,this.refs=k,this.updater=oe||K}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ie(M,te,oe){this.props=M,this.context=te,this.refs=k,this.updater=oe||K}var Te=ie.prototype=new W;Te.constructor=ie,F(Te,Y.prototype),Te.isPureReactComponent=!0;var Ae=Array.isArray;function we(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(M,te,oe){var ue=oe.ref;return{$$typeof:r,type:M,key:te,ref:ue!==void 0?ue:null,props:oe}}function L(M,te){return I(M.type,te,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return te[oe]})}var N=/\/+/g;function rt(M,te){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):te.toString(36)}function Dt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(we,we):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function $(M,te,oe,ue,ve){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=M._init,$(Ue(M._payload),te,oe,ue,ve)}}if(Ue)return ve=ve(M),Ue=ue===""?"."+rt(M,0):ue,Ae(ve)?(oe="",Ue!=null&&(oe=Ue.replace(N,"$&/")+"/"),$(ve,te,oe,"",function(fs){return fs})):ve!=null&&(O(ve)&&(ve=L(ve,oe+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+Ue)),te.push(ve)),1;Ue=0;var Ot=ue===""?".":ue+":";if(Ae(M))for(var st=0;st<M.length;st++)ue=M[st],Ce=Ot+rt(ue,st),Ue+=$(ue,te,oe,Ce,ve);else if(st=V(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,Ce=Ot+rt(ue,st++),Ue+=$(ue,te,oe,Ce,ve);else if(Ce==="object"){if(typeof M.then=="function")return $(Dt(M),te,oe,ue,ve);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ae(M,te,oe){if(M==null)return M;var ue=[],ve=0;return $(M,ue,"","",function(Ce){return te.call(oe,Ce,ve++)}),ue}function me(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var je=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:ae,forEach:function(M,te,oe){ae(M,function(){te.apply(this,arguments)},oe)},count:function(M){var te=0;return ae(M,function(){te++}),te},toArray:function(M){return ae(M,function(te){return te})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=T,Se.Children=Ge,Se.Component=Y,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return C.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,te,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=F({},M.props),ve=M.key;if(te!=null)for(Ce in te.key!==void 0&&(ve=""+te.key),te)!b.call(te,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&te.ref===void 0||(ue[Ce]=te[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=oe;else if(1<Ce){for(var Ue=Array(Ce),Ot=0;Ot<Ce;Ot++)Ue[Ot]=arguments[Ot+2];ue.children=Ue}return I(M.type,ve,ue)},Se.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,te,oe){var ue,ve={},Ce=null;if(te!=null)for(ue in te.key!==void 0&&(Ce=""+te.key),te)b.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=te[ue]);var Ue=arguments.length-2;if(Ue===1)ve.children=oe;else if(1<Ue){for(var Ot=Array(Ue),st=0;st<Ue;st++)Ot[st]=arguments[st+2];ve.children=Ot}if(M&&M.defaultProps)for(ue in Ue=M.defaultProps,Ue)ve[ue]===void 0&&(ve[ue]=Ue[ue]);return I(M,Ce,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=O,Se.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:me}},Se.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},Se.startTransition=function(M){var te=C.T,oe={};C.T=oe;try{var ue=M(),ve=C.S;ve!==null&&ve(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,je)}catch(Ce){je(Ce)}finally{te!==null&&oe.types!==null&&(te.types=oe.types),C.T=te}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function(M){return C.H.use(M)},Se.useActionState=function(M,te,oe){return C.H.useActionState(M,te,oe)},Se.useCallback=function(M,te){return C.H.useCallback(M,te)},Se.useContext=function(M){return C.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,te){return C.H.useDeferredValue(M,te)},Se.useEffect=function(M,te){return C.H.useEffect(M,te)},Se.useEffectEvent=function(M){return C.H.useEffectEvent(M)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function(M,te,oe){return C.H.useImperativeHandle(M,te,oe)},Se.useInsertionEffect=function(M,te){return C.H.useInsertionEffect(M,te)},Se.useLayoutEffect=function(M,te){return C.H.useLayoutEffect(M,te)},Se.useMemo=function(M,te){return C.H.useMemo(M,te)},Se.useOptimistic=function(M,te){return C.H.useOptimistic(M,te)},Se.useReducer=function(M,te,oe){return C.H.useReducer(M,te,oe)},Se.useRef=function(M){return C.H.useRef(M)},Se.useState=function(M){return C.H.useState(M)},Se.useSyncExternalStore=function(M,te,oe){return C.H.useSyncExternalStore(M,te,oe)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.3",Se}var Nv;function ip(){return Nv||(Nv=1,om.exports=Fw()),om.exports}var H=ip(),lm={exports:{}},Nl={},um={exports:{}},cm={};var Dv;function Gw(){return Dv||(Dv=1,(function(r){function e($,ae){var me=$.length;$.push(ae);e:for(;0<me;){var je=me-1>>>1,Ge=$[je];if(0<o(Ge,ae))$[je]=ae,$[me]=Ge,me=je;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ae=$[0],me=$.pop();if(me!==ae){$[0]=me;e:for(var je=0,Ge=$.length,M=Ge>>>1;je<M;){var te=2*(je+1)-1,oe=$[te],ue=te+1,ve=$[ue];if(0>o(oe,me))ue<Ge&&0>o(ve,oe)?($[je]=ve,$[ue]=me,je=ue):($[je]=oe,$[te]=me,je=te);else if(ue<Ge&&0>o(ve,me))$[je]=ve,$[ue]=me,je=ue;else break e}}return ae}function o($,ae){var me=$.sortIndex-ae.sortIndex;return me!==0?me:$.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,T=null,R=3,V=!1,K=!1,F=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Te($){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=$)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function Ae($){if(F=!1,Te($),!K)if(n(g)!==null)K=!0,we||(we=!0,U());else{var ae=n(y);ae!==null&&Dt(Ae,ae.startTime-$)}}var we=!1,C=-1,b=5,I=-1;function L(){return k?!0:!(r.unstable_now()-I<b)}function O(){if(k=!1,we){var $=r.unstable_now();I=$;var ae=!0;try{e:{K=!1,F&&(F=!1,W(C),C=-1),V=!0;var me=R;try{t:{for(Te($),T=n(g);T!==null&&!(T.expirationTime>$&&L());){var je=T.callback;if(typeof je=="function"){T.callback=null,R=T.priorityLevel;var Ge=je(T.expirationTime<=$);if($=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,Te($),ae=!0;break t}T===n(g)&&s(g),Te($)}else s(g);T=n(g)}if(T!==null)ae=!0;else{var M=n(y);M!==null&&Dt(Ae,M.startTime-$),ae=!1}}break e}finally{T=null,R=me,V=!1}ae=void 0}}finally{ae?U():we=!1}}}var U;if(typeof ie=="function")U=function(){ie(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=O,U=function(){rt.postMessage(null)}}else U=function(){Y(O,0)};function Dt($,ae){C=Y(function(){$(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function($){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var me=R;R=ae;try{return $()}finally{R=me}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function($,ae){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var me=R;R=$;try{return ae()}finally{R=me}},r.unstable_scheduleCallback=function($,ae,me){var je=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?je+me:je):me=je,$){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,$={id:E++,callback:ae,priorityLevel:$,startTime:me,expirationTime:Ge,sortIndex:-1},me>je?($.sortIndex=me,e(y,$),n(g)===null&&$===n(y)&&(F?(W(C),C=-1):F=!0,Dt(Ae,me-je))):($.sortIndex=Ge,e(g,$),K||V||(K=!0,we||(we=!0,U()))),$},r.unstable_shouldYield=L,r.unstable_wrapCallback=function($){var ae=R;return function(){var me=R;R=ae;try{return $.apply(this,arguments)}finally{R=me}}}})(cm)),cm}var Ov;function Qw(){return Ov||(Ov=1,um.exports=Gw()),um.exports}var hm={exports:{}},$t={};var xv;function Kw(){if(xv)return $t;xv=1;var r=ip();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},$t.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},$t.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},$t.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},$t.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),R=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:V}):E==="script"&&s.d.X(g,{crossOrigin:T,integrity:R,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$t.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},$t.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$t.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},$t.requestFormReset=function(g){s.d.r(g)},$t.unstable_batchedUpdates=function(g,y){return g(y)},$t.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.3",$t}var Vv;function Yw(){if(Vv)return hm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hm.exports=Kw(),hm.exports}var Mv;function Xw(){if(Mv)return Nl;Mv=1;var r=Qw(),e=ip(),n=Yw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,R=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Te=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case Ae:return"Suspense";case we:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case Te:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var Dt=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},je=[],Ge=-1;function M(t){return{current:t}}function te(t){0>Ge||(t.current=je[Ge],je[Ge]=null,Ge--)}function oe(t,i){Ge++,je[Ge]=t.current,t.current=i}var ue=M(null),ve=M(null),Ce=M(null),Ue=M(null);function Ot(t,i){switch(oe(Ce,i),oe(ve,t),oe(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?X_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=X_(i),t=$_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(ue),oe(ue,t)}function st(){te(ue),te(ve),te(Ce)}function fs(t){t.memoizedState!==null&&oe(Ue,t);var i=ue.current,a=$_(i,t.type);i!==a&&(oe(ve,t),oe(ue,a))}function ra(t){ve.current===t&&(te(ue),te(ve)),Ue.current===t&&(te(Ue),wl._currentValue=me)}var sa,aa;function si(t){if(sa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",aa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+t+aa}var wo=!1;function ds(t,i){if(!t||wo)return"";wo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),B=S.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var X=`
`+D[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{wo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function bo(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return ds(t.type,!1);case 11:return ds(t.type.render,!1);case 1:return ds(t.type,!0);case 31:return si("Activity");default:return""}}function Ro(t){try{var i="",a=null;do i+=bo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var yt=Object.prototype.hasOwnProperty,xt=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,lf=r.unstable_shouldYield,vu=r.unstable_requestPaint,en=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Co=r.unstable_ImmediatePriority,Io=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,uf=r.unstable_LowPriority,Eu=r.unstable_IdlePriority,Tu=r.log,Su=r.unstable_setDisableYieldValue,qn=null,Bt=null;function Cn(t){if(typeof Tu=="function"&&Su(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:wu,Au=Math.log,oa=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(Au(t)/oa|0)|0}var ai=256,ps=262144,_t=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):a||(a=S&~t,a!==0&&(h=oi(a))))):(S=l&~d,S!==0?h=oi(S):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function cf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(){var t=_t;return _t<<=1,(_t&62914560)===0&&(_t=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function hf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-ft(a),ee=1<<X;S[X]=0,D[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var Q=q[X];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&ys(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ys(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-ft(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-ft(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Do(t,i){var a=i&-i;return a=(a&42)!==0?1:_s(a),(a&(t.suspendedLanes|i))!==0?0:a}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ru(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:vv(t.type))}function Fn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Gn=Math.random().toString(36).slice(2),vt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,la="__reactEvents$"+Gn,ff="__reactListeners$"+Gn,Cu="__reactHandles$"+Gn,Iu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function ua(t){delete t[vt],delete t[Lt],delete t[la],delete t[ff],delete t[Cu]}function fi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[vt])return a;t=iv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[vt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function pn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[hi]=!0}var Oo=new Set,xo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(xo[t]=i,t=0;t<i.length;t++)Oo.add(i[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Lo={};function Nu(t){return yt.call(Lo,t)?!0:yt.call(Mo,t)?!1:Vo.test(t)?Lo[t]=!0:(Mo[t]=!0,!1)}function ca(t,i,a){if(Nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Tt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Po(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=pr(t)?"checked":"value";t._valueTracker=Po(t,i,""+t[i])}}function vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Es=/[\n"\\]/g;function an(t){return t.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ha(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Uo(t,_,Pt(i)):a!=null?Uo(t,_,Pt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Uo(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function yr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Dt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Qe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var xu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||xu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(t,d,i[d])}function fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(t){return _r.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Qn(){}var jo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,yi=null;function Ts(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));ha(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vs(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gr(t,!!a.multiple,i,!1)}}}var ma=!1;function Er(t,i,a){if(ma)return t(i,a);ma=!0;try{var l=t(i);return l}finally{if(ma=!1,(vr!==null||yi!==null)&&(Rc(),vr&&(i=vr,t=yi,yi=vr=null,Ts(i),t)))for(i=0;i<t.length;i++)Ts(t[i])}}function Kn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ss=!1;if(Dn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ss=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ss=!1}var _i=null,Bo=null,As=null;function qo(){if(As)return As;var t,i=Bo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return As=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Yn(){return!1}function qt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=qt(ji),Tr=T({},ji,{view:0,detail:0}),Ho=qt(Tr),Sr,pa,Ei,ga=T({},Tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Sr=t.screenX-Ei.screenX,pa=t.screenY-Ei.screenY):pa=Sr=0,Ei=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:pa}}),Fo=qt(ga),bs=T({},ga,{dataTransfer:0}),Mu=qt(bs),Lu=T({},Tr,{relatedTarget:0}),Rs=qt(Lu),Go=T({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=qt(Go),ya=T({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=qt(ya),ku=T({},ji,{data:0}),Ti=qt(ku),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function Ar(){return qu}var tn=T({},Tr,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ju[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hu=qt(tn),Fu=T({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=qt(Fu),c=T({},Tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar}),p=qt(c),v=T({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=qt(v),z=T({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(z),re=T({},ji,{newState:0,oldState:0}),be=qt(re),dt=[9,13,27,32],He=Dn&&"CompositionEvent"in window,at=null;Dn&&"documentMode"in document&&(at=document.documentMode);var On=Dn&&"TextEvent"in window&&!at,Si=Dn&&(!He||at&&8<at&&11>=at),Xn=" ",$n=!1;function Cs(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var va=!1;function fA(t,i){switch(t){case"compositionend":return _a(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function dA(t,i){if(va)return t==="compositionend"||!He&&Cs(t,i)?(t=qo(),As=Bo=_i=null,va=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Si&&i.locale!=="ko"?null:i.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!mA[t.type]:i==="textarea"}function og(t,i,a,l){vr?yi?yi.push(l):yi=[l]:vr=l,i=Vc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Qo=null,Ko=null;function pA(t){H_(t,0)}function Gu(t){var i=pn(t);if(vs(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Dn){var df;if(Dn){var mf="oninput"in document;if(!mf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),mf=typeof cg.oninput=="function"}df=mf}else df=!1;ug=df&&(!document.documentMode||9<document.documentMode)}function hg(){Qo&&(Qo.detachEvent("onpropertychange",fg),Ko=Qo=null)}function fg(t){if(t.propertyName==="value"&&Gu(Ko)){var i=[];og(i,Ko,t,Nn(t)),Er(pA,i)}}function gA(t,i,a){t==="focusin"?(hg(),Qo=i,Ko=a,Qo.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function yA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(Ko)}function _A(t,i){if(t==="click")return Gu(i)}function vA(t,i){if(t==="input"||t==="change")return Gu(i)}function EA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:EA;function Yo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!yt.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var TA=Dn&&"documentMode"in document&&11>=document.documentMode,Ea=null,gf=null,Xo=null,yf=!1;function yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||Ea==null||Ea!==gi(l)||(l=Ea,"selectionStart"in l&&pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xo&&Yo(Xo,l)||(Xo=l,l=Vc(gf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},_f={},_g={};Dn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Ns(t){if(_f[t])return _f[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in _g)return _f[t]=i[a];return t}var vg=Ns("animationend"),Eg=Ns("animationiteration"),Tg=Ns("animationstart"),SA=Ns("transitionrun"),AA=Ns("transitionstart"),wA=Ns("transitioncancel"),Sg=Ns("transitionend"),Ag=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function Jn(t,i){Ag.set(t,i),mi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Sa=0,Ef=0;function Ku(){for(var t=Sa,i=Ef=Sa=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&wg(a,h,d)}}function Yu(t,i,a,l){xn[Sa++]=t,xn[Sa++]=i,xn[Sa++]=a,xn[Sa++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Yu(t,i,a,l),Xu(t)}function Ds(t,i){return Yu(t,null,null,i),Xu(t)}function wg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Xu(t){if(50<yl)throw yl=0,Dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Aa={};function bA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,i,a,l){return new bA(t,i,a,l)}function Sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=_n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function $u(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Sf(t)&&(_=1);else if(typeof t=="string")_=Dw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=_n(31,a,i,h),t.elementType=I,t.lanes=d,t;case F:return Os(a.children,h,d,i);case k:_=8,h|=24;break;case Y:return t=_n(12,a,i,h|2),t.elementType=Y,t.lanes=d,t;case Ae:return t=_n(13,a,i,h),t.elementType=Ae,t.lanes=d,t;case we:return t=_n(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case Te:_=11;break e;case C:_=14;break e;case b:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=_n(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Os(t,i,a,l){return t=_n(7,t,l,i),t.lanes=a,t}function Af(t,i,a){return t=_n(6,t,null,i),t.lanes=a,t}function Rg(t){var i=_n(18,null,null,0);return i.stateNode=t,i}function wf(t,i,a){return i=_n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Cg=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ro(i)},Cg.set(t,i),i)}return{value:t,source:i,stack:Ro(i)}}var wa=[],ba=0,Ju=null,$o=0,Mn=[],Ln=0,wr=null,Ai=1,wi="";function Hi(t,i){wa[ba++]=$o,wa[ba++]=Ju,Ju=t,$o=i}function Ig(t,i,a){Mn[Ln++]=Ai,Mn[Ln++]=wi,Mn[Ln++]=wr,wr=t;var l=Ai;t=wi;var h=32-ft(l)-1;l&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-ft(i)+h|a<<h|l,wi=d+t}else Ai=1<<d|a<<h|l,wi=t}function bf(t){t.return!==null&&(Hi(t,1),Ig(t,1,0))}function Rf(t){for(;t===Ju;)Ju=wa[--ba],wa[ba]=null,$o=wa[--ba],wa[ba]=null;for(;t===wr;)wr=Mn[--Ln],Mn[Ln]=null,wi=Mn[--Ln],Mn[Ln]=null,Ai=Mn[--Ln],Mn[Ln]=null}function Ng(t,i){Mn[Ln++]=Ai,Mn[Ln++]=wi,Mn[Ln++]=wr,Ai=i.id,wi=i.overflow,wr=t}var Ht=null,tt=null,Pe=!1,br=null,Pn=!1,Cf=Error(s(519));function Rr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jo(Vn(i,t)),Cf}function Dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[Lt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)De(vl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),yr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||K_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Rr(t,!0)}function Og(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Ht=Ht.return}}function Ra(t){if(t!==Ht)return!1;if(!Pe)return Og(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&tt&&Rr(t),Og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=nv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=nv(t)}else i===27?(i=tt,jr(t.type)?(t=$d,$d=null,tt=t):tt=i):tt=Ht?kn(t.stateNode.nextSibling):null;return!0}function xs(){tt=Ht=null,Pe=!1}function If(){var t=br;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),br=null),t}function Jo(t){br===null?br=[t]:br.push(t)}var Nf=M(null),Vs=null,Fi=null;function Cr(t,i,a){oe(Nf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Nf.current,te(Nf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Df(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Df(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;yn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ms(t){Vs=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return xg(Vs,t)}function Wu(t,i){return Vs===null&&Ms(t),xg(t,i)}function xg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var RA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CA=r.unstable_scheduleCallback,IA=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new RA,data:new Map,refCount:0}}function Zo(t){t.refCount--,t.refCount===0&&CA(IA,function(){t.controller.abort()})}var Wo=null,Vf=0,Ia=0,Na=null;function NA(t,i){if(Wo===null){var a=Wo=[];Vf=0,Ia=Pd(),Na={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Vg,Vg),i}function Vg(){if(--Vf===0&&Wo!==null){Na!==null&&(Na.status="fulfilled");var t=Wo;Wo=null,Ia=0,Na=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Mg=$.S;$.S=function(t,i){y_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&NA(t,i),Mg!==null&&Mg(t,i)};var Ls=M(null);function Mf(){var t=Ls.current;return t!==null?t:et.pooledCache}function ec(t,i){i===null?oe(Ls,Ls.current):oe(Ls,i.pool)}function Lg(){var t=Mf();return t===null?null:{parent:St._currentValue,pool:t}}var Da=Error(s(460)),Lf=Error(s(474)),tc=Error(s(542)),nc={then:function(){}};function Pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ug(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Qn,Qn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zg(t),t}throw Us=i,Da}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Da):a}}var Us=null;function kg(){if(Us===null)throw Error(s(459));var t=Us;return Us=null,t}function zg(t){if(t===Da||t===tc)throw Error(s(483))}var Oa=null,el=0;function ic(t){var i=el;return el+=1,Oa===null&&(Oa=[]),Ug(Oa,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function rc(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function jg(t){function i(P,x){if(t){var j=P.deletions;j===null?(P.deletions=[x],P.flags|=16):j.push(x)}}function a(P,x){if(!t)return null;for(;x!==null;)i(P,x),x=x.sibling;return null}function l(P){for(var x=new Map;P!==null;)P.key!==null?x.set(P.key,P):x.set(P.index,P),P=P.sibling;return x}function h(P,x){return P=qi(P,x),P.index=0,P.sibling=null,P}function d(P,x,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<x?(P.flags|=67108866,x):j):(P.flags|=67108866,x)):(P.flags|=1048576,x)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,x,j,Z){return x===null||x.tag!==6?(x=Af(j,P.mode,Z),x.return=P,x):(x=h(x,j),x.return=P,x)}function D(P,x,j,Z){var de=j.type;return de===F?X(P,x,j.props.children,Z,j.key):x!==null&&(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&Ps(de)===x.type)?(x=h(x,j.props),tl(x,j),x.return=P,x):(x=$u(j.type,j.key,j.props,null,P.mode,Z),tl(x,j),x.return=P,x)}function B(P,x,j,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==j.containerInfo||x.stateNode.implementation!==j.implementation?(x=wf(j,P.mode,Z),x.return=P,x):(x=h(x,j.children||[]),x.return=P,x)}function X(P,x,j,Z,de){return x===null||x.tag!==7?(x=Os(j,P.mode,Z,de),x.return=P,x):(x=h(x,j),x.return=P,x)}function ee(P,x,j){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Af(""+x,P.mode,j),x.return=P,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case V:return j=$u(x.type,x.key,x.props,null,P.mode,j),tl(j,x),j.return=P,j;case K:return x=wf(x,P.mode,j),x.return=P,x;case b:return x=Ps(x),ee(P,x,j)}if(Dt(x)||U(x))return x=Os(x,P.mode,j,null),x.return=P,x;if(typeof x.then=="function")return ee(P,ic(x),j);if(x.$$typeof===ie)return ee(P,Wu(P,x),j);rc(P,x)}return null}function q(P,x,j,Z){var de=x!==null?x.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return de!==null?null:S(P,x,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return j.key===de?D(P,x,j,Z):null;case K:return j.key===de?B(P,x,j,Z):null;case b:return j=Ps(j),q(P,x,j,Z)}if(Dt(j)||U(j))return de!==null?null:X(P,x,j,Z,null);if(typeof j.then=="function")return q(P,x,ic(j),Z);if(j.$$typeof===ie)return q(P,x,Wu(P,j),Z);rc(P,j)}return null}function Q(P,x,j,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(j)||null,S(x,P,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case V:return P=P.get(Z.key===null?j:Z.key)||null,D(x,P,Z,de);case K:return P=P.get(Z.key===null?j:Z.key)||null,B(x,P,Z,de);case b:return Z=Ps(Z),Q(P,x,j,Z,de)}if(Dt(Z)||U(Z))return P=P.get(j)||null,X(x,P,Z,de,null);if(typeof Z.then=="function")return Q(P,x,j,ic(Z),de);if(Z.$$typeof===ie)return Q(P,x,j,Wu(x,Z),de);rc(x,Z)}return null}function ce(P,x,j,Z){for(var de=null,Be=null,he=x,Ie=x=0,xe=null;he!==null&&Ie<j.length;Ie++){he.index>Ie?(xe=he,he=null):xe=he.sibling;var qe=q(P,he,j[Ie],Z);if(qe===null){he===null&&(he=xe);break}t&&he&&qe.alternate===null&&i(P,he),x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe,he=xe}if(Ie===j.length)return a(P,he),Pe&&Hi(P,Ie),de;if(he===null){for(;Ie<j.length;Ie++)he=ee(P,j[Ie],Z),he!==null&&(x=d(he,x,Ie),Be===null?de=he:Be.sibling=he,Be=he);return Pe&&Hi(P,Ie),de}for(he=l(he);Ie<j.length;Ie++)xe=Q(he,P,Ie,j[Ie],Z),xe!==null&&(t&&xe.alternate!==null&&he.delete(xe.key===null?Ie:xe.key),x=d(xe,x,Ie),Be===null?de=xe:Be.sibling=xe,Be=xe);return t&&he.forEach(function(Gr){return i(P,Gr)}),Pe&&Hi(P,Ie),de}function ge(P,x,j,Z){if(j==null)throw Error(s(151));for(var de=null,Be=null,he=x,Ie=x=0,xe=null,qe=j.next();he!==null&&!qe.done;Ie++,qe=j.next()){he.index>Ie?(xe=he,he=null):xe=he.sibling;var Gr=q(P,he,qe.value,Z);if(Gr===null){he===null&&(he=xe);break}t&&he&&Gr.alternate===null&&i(P,he),x=d(Gr,x,Ie),Be===null?de=Gr:Be.sibling=Gr,Be=Gr,he=xe}if(qe.done)return a(P,he),Pe&&Hi(P,Ie),de;if(he===null){for(;!qe.done;Ie++,qe=j.next())qe=ee(P,qe.value,Z),qe!==null&&(x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return Pe&&Hi(P,Ie),de}for(he=l(he);!qe.done;Ie++,qe=j.next())qe=Q(he,P,Ie,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ie:qe.key),x=d(qe,x,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(Bw){return i(P,Bw)}),Pe&&Hi(P,Ie),de}function Ze(P,x,j,Z){if(typeof j=="object"&&j!==null&&j.type===F&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case V:e:{for(var de=j.key;x!==null;){if(x.key===de){if(de=j.type,de===F){if(x.tag===7){a(P,x.sibling),Z=h(x,j.props.children),Z.return=P,P=Z;break e}}else if(x.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&Ps(de)===x.type){a(P,x.sibling),Z=h(x,j.props),tl(Z,j),Z.return=P,P=Z;break e}a(P,x);break}else i(P,x);x=x.sibling}j.type===F?(Z=Os(j.props.children,P.mode,Z,j.key),Z.return=P,P=Z):(Z=$u(j.type,j.key,j.props,null,P.mode,Z),tl(Z,j),Z.return=P,P=Z)}return _(P);case K:e:{for(de=j.key;x!==null;){if(x.key===de)if(x.tag===4&&x.stateNode.containerInfo===j.containerInfo&&x.stateNode.implementation===j.implementation){a(P,x.sibling),Z=h(x,j.children||[]),Z.return=P,P=Z;break e}else{a(P,x);break}else i(P,x);x=x.sibling}Z=wf(j,P.mode,Z),Z.return=P,P=Z}return _(P);case b:return j=Ps(j),Ze(P,x,j,Z)}if(Dt(j))return ce(P,x,j,Z);if(U(j)){if(de=U(j),typeof de!="function")throw Error(s(150));return j=de.call(j),ge(P,x,j,Z)}if(typeof j.then=="function")return Ze(P,x,ic(j),Z);if(j.$$typeof===ie)return Ze(P,x,Wu(P,j),Z);rc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,x!==null&&x.tag===6?(a(P,x.sibling),Z=h(x,j),Z.return=P,P=Z):(a(P,x),Z=Af(j,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,x)}return function(P,x,j,Z){try{el=0;var de=Ze(P,x,j,Z);return Oa=null,de}catch(he){if(he===Da||he===tc)throw he;var Be=_n(29,he,null,P.mode);return Be.lanes=Z,Be.return=P,Be}}}var ks=jg(!0),Bg=jg(!1),Ir=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Dr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Xu(t),wg(t,null,a),i}return Yu(t,l,i,a),Xu(t)}function nl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}function kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function il(){if(zf){var t=Na;if(t!==null)throw t}}function rl(t,i,a,l){zf=!1;var h=t.updateQueue;Ir=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var D=S,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;_=0,X=B=D=null,S=d;do{var q=S.lane&-536870913,Q=q!==S.lane;if(Q?(Oe&q)===q:(l&q)===q){q!==0&&q===Ia&&(zf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,ge=S;q=i;var Ze=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){ee=ce.call(Ze,ee,q);break e}ee=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,q=typeof ce=="function"?ce.call(Ze,ee,q):ce,q==null)break e;ee=T({},ee,q);break e;case 2:Ir=!0}}q=S.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,D=ee):X=X.next=Q,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Lr|=_,t.lanes=_,t.memoizedState=ee}}function qg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],i)}var xa=M(null),sc=M(0);function Fg(t,i){t=er,oe(sc,t),oe(xa,i),er=t|i.baseLanes}function jf(){oe(sc,er),oe(xa,xa.current)}function Bf(){er=sc.current,te(xa),te(sc)}var vn=M(null),Un=null;function Or(t){var i=t.alternate;oe(mt,mt.current&1),oe(vn,t),Un===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(Un=t)}function qf(t){oe(mt,mt.current),oe(vn,t),Un===null&&(Un=t)}function Gg(t){t.tag===22?(oe(mt,mt.current),oe(vn,t),Un===null&&(Un=t)):xr()}function xr(){oe(mt,mt.current),oe(vn,vn.current)}function En(t){te(vn),Un===t&&(Un=null),te(mt)}var mt=M(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Re=null,$e=null,At=null,oc=!1,Va=!1,zs=!1,lc=0,sl=0,Ma=null,OA=0;function ct(){throw Error(s(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function Ff(t,i,a,l,h,d){return Qi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Iy:sd,zs=!1,d=a(l,h),zs=!1,Va&&(d=Kg(i,a,l,h)),Qg(t),d}function Qg(t){$.H=ll;var i=$e!==null&&$e.next!==null;if(Qi=0,At=$e=Re=null,oc=!1,sl=0,Ma=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&Zu(t)&&(wt=!0))}function Kg(t,i,a,l){Re=t;var h=0;do{if(Va&&(Ma=null),sl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Ny,d=i(a,l)}while(Va);return d}function xA(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?al(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Re.flags|=1024),i}function Gf(){var t=lc!==0;return lc=0,t}function Qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Kf(t){if(oc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}oc=!1}Qi=0,At=$e=Re=null,Va=!1,sl=lc=0,Ma=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var i=sl;return sl+=1,Ma===null&&(Ma=[]),t=Ug(Ma,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Iy:sd),t}function cc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ie)return Ft(t)}throw Error(s(438,String(t)))}function Yf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=uc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=L;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function hc(t){var i=pt();return Xf(i,$e,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,D=null,B=i,X=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(Oe&ee)===ee:(Qi&ee)===ee){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===Ia&&(X=!0);else if((Qi&q)===q){B=B.next,q===Ia&&(X=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=ee,_=d):D=D.next=ee,Re.lanes|=q,Lr|=q;ee=B.action,zs&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=q,_=d):D=D.next=q,Re.lanes|=ee,Lr|=ee;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=S,!yn(d,t.memoizedState)&&(wt=!0,X&&(a=Na,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function $f(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);yn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Yg(t,i,a){var l=Re,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!yn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,Wf(Jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},$g.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Qi&127)!==0||Xg(l,i,a)}return a}function Xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=uc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Zg(i)&&Wg(t)}function Jg(t,i,a){return a(function(){Zg(i)&&Wg(t)})}function Zg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Wg(t){var i=Ds(t,2);i!==null&&fn(i,t,2)}function Jf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),zs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function ey(t,i,a,l){return t.baseState=a,Xf(t,$e,typeof l=="function"?l:Ki)}function VA(t,i,a,l,h){if(mc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ty(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var S=a(h,l),D=$.S;D!==null&&D(_,S),ny(t,i,S)}catch(B){Zf(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),ny(t,i,d)}catch(B){Zf(t,i,B)}}function ny(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(t,i,l)},function(l){return Zf(t,i,l)}):iy(t,i,a)}function iy(t,i,a){i.status="fulfilled",i.value=a,ry(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ty(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ry(i),i=i.next;while(i!==l)}t.action=null}function ry(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function sy(t,i){return i}function ay(t,i){if(Pe){var a=et.formState;if(a!==null){e:{var l=Re;if(Pe){if(tt){t:{for(var h=tt,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=kn(h.nextSibling),l=h.data==="F!";break e}}Rr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},a.queue=l,a=by.bind(null,Re,l),l.dispatch=a,l=Jf(!1),d=rd.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=VA.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function oy(t){var i=pt();return ly(i,$e,t)}function ly(t,i,a){if(i=Xf(t,i,sy)[0],t=hc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=al(i)}catch(_){throw _===Da?tc:_}else l=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,La(9,{destroy:void 0},MA.bind(null,h,a),null)),[l,d,t]}function MA(t,i){t.action=i}function uy(t){var i=pt(),a=$e;if(a!==null)return ly(i,a,t);pt(),i=i.memoizedState,a=pt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=uc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function cy(){return pt().memoizedState}function fc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function dc(t,i,a,l){var h=pt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Hf(l,$e.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Re.flags|=t,h.memoizedState=La(1|i,d,a,l))}function hy(t,i){fc(8390656,8,t,i)}function Wf(t,i){dc(2048,8,t,i)}function LA(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=uc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function fy(t){var i=pt().memoizedState;return LA({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function dy(t,i){return dc(4,2,t,i)}function my(t,i){return dc(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function gy(t,i,a){a=a!=null?a.concat([t]):null,dc(4,4,py.bind(null,i,t),a)}function ed(){}function yy(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function _y(t,i){var a=pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function td(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=v_(),Re.lanes|=t,Lr|=t,a)}function vy(t,i,a,l){return yn(a,i)?a:xa.current!==null?(t=td(t,a,l),yn(t,i)||(wt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(Oe&261930)===0?(wt=!0,t.memoizedState=a):(t=v_(),Re.lanes|=t,Lr|=t,i)}function Ey(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=$.T,S={};$.T=S,rd(t,!1,i,a);try{var D=h(),B=$.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=DA(D,l);ol(t,i,X,An(t))}else ol(t,i,l,An(t))}catch(ee){ol(t,i,{then:function(){},status:"rejected",reason:ee},An())}finally{ae.p=d,_!==null&&S.types!==null&&(_.types=S.types),$.T=_}}function PA(){}function nd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ty(t).queue;Ey(t,h,i,me,a===null?PA:function(){return Sy(t),a(l)})}function Ty(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Sy(t){var i=Ty(t);i.next===null&&(i=t.alternate.memoizedState),ol(t,i.next.queue,{},An())}function id(){return Ft(wl)}function Ay(){return pt().memoizedState}function wy(){return pt().memoizedState}function UA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Nr(a);var l=Dr(i,t,a);l!==null&&(fn(l,i,a),nl(l,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function kA(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mc(t)?Ry(i,a):(a=Tf(t,i,a,l),a!==null&&(fn(a,t,l),Cy(a,i,l)))}function by(t,i,a){var l=An();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(t))Ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,yn(S,_))return Yu(t,i,h,0),et===null&&Ku(),!1}catch{}if(a=Tf(t,i,h,l),a!==null)return fn(a,t,l),Cy(a,i,l),!0}return!1}function rd(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&fn(i,t,2)}function mc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Ry(t,i){Va=oc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,No(t,a)}}var ll={readContext:Ft,use:cc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};ll.useEffectEvent=ct;var Iy={readContext:Ft,use:cc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:hy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(zs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kA.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Jf(t);var i=t.queue,a=by.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ed,useDeferredValue:function(t,i){var a=nn();return td(a,t,i)},useTransition:function(){var t=Jf(!1);return t=Ey.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(Oe&127)!==0||Xg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,hy(Jg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},$g.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(Pe){var a=wi,l=Ai;a=(l&~(1<<32-ft(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=OA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:id,useFormState:ay,useActionState:ay,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return nn().memoizedState=UA.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},sd={readContext:Ft,use:cc,useCallback:yy,useContext:Ft,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:hc,useRef:cy,useState:function(){return hc(Ki)},useDebugValue:ed,useDeferredValue:function(t,i){var a=pt();return vy(a,$e.memoizedState,t,i)},useTransition:function(){var t=hc(Ki)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Yg,useId:Ay,useHostTransitionStatus:id,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=pt();return ey(a,$e,t,i)},useMemoCache:Yf,useCacheRefresh:wy};sd.useEffectEvent=fy;var Ny={readContext:Ft,use:cc,useCallback:yy,useContext:Ft,useEffect:Wf,useImperativeHandle:gy,useInsertionEffect:dy,useLayoutEffect:my,useMemo:_y,useReducer:$f,useRef:cy,useState:function(){return $f(Ki)},useDebugValue:ed,useDeferredValue:function(t,i){var a=pt();return $e===null?td(a,t,i):vy(a,$e.memoizedState,t,i)},useTransition:function(){var t=$f(Ki)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:al(t),i]},useSyncExternalStore:Yg,useId:Ay,useHostTransitionStatus:id,useFormState:uy,useActionState:uy,useOptimistic:function(t,i){var a=pt();return $e!==null?ey(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:wy};Ny.useEffectEvent=fy;function ad(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(fn(i,t,l),nl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Dr(t,h,l),i!==null&&(fn(i,t,l),nl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Dr(t,l,a),i!==null&&(fn(i,t,a),nl(i,t,a))}};function Dy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Yo(a,l)||!Yo(h,d):!0}function Oy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&od.enqueueReplaceState(i,i.state,null)}function js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function xy(t){Qu(t)}function Vy(t){console.error(t)}function My(t){Qu(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ly(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ld(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function Py(t){return t=Nr(t),t.tag=3,t}function Uy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ly(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Ly(i,a,l),typeof h!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function zA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ca(i,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Cc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===nc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(s(435,a.tag))}return Vd(t,l,h),Cc(),!1}if(Pe)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cf&&(t=Error(s(422),{cause:l}),Jo(Vn(t,a)))):(l!==Cf&&(i=Error(s(423),{cause:l}),Jo(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=ld(t.stateNode,l,h),kf(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),gl===null?gl=[d]:gl.push(d),ht!==4&&(ht=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ld(a.stateNode,l,t),kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Py(h),Uy(h,t,a,l),kf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(s(461)),wt=!1;function Gt(t,i,a,l){i.child=t===null?Bg(i,null,a,l):ks(i,t.child,a,l)}function ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ms(i),l=Ff(t,i,a,_,d,h),S=Gf(),t!==null&&!wt?(Qf(t,i,h),Yi(t,i,h)):(Pe&&S&&bf(i),i.flags|=1,Gt(t,i,l,h),i.child)}function zy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Sf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,jy(t,i,d,l,h)):(t=$u(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!yd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Yo,a(_,l)&&t.ref===i.ref)return Yi(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function jy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Yo(d,l)&&t.ref===i.ref)if(wt=!1,i.pendingProps=l=d,yd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Yi(t,i,h)}return cd(t,i,a,l,h)}function By(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return qy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(i,d!==null?d.cachePool:null),d!==null?Fg(i,d):jf(),Gg(i);else return l=i.lanes=536870912,qy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(ec(i,d.cachePool),Fg(i,d),xr(),i.memoizedState=null):(t!==null&&ec(i,null),jf(),xr());return Gt(t,i,h,a),i.child}function ul(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qy(t,i,a,l,h){var d=Mf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ec(i,null),jf(),Gg(i),t!==null&&Ca(t,i,l,!0),i.childLanes=h,null}function gc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Hy(t,i,a){return ks(i,t.child,null,a),t=gc(i,i.pendingProps),t.flags|=2,En(i),i.memoizedState=null,t}function jA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=gc(i,l),i.lanes=536870912,ul(null,t);if(qf(i),(t=tt)?(t=tv(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Rr(i);return i.lanes=536870912,null}return gc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(qf(i),h)if(i.flags&256)i.flags&=-257,i=Hy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Ca(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(l=et,l!==null&&(_=Do(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(t,_),fn(l,t,_),ud;Cc(),i=Hy(t,i,a)}else t=d.treeContext,tt=kn(_.nextSibling),Ht=i,Pe=!0,br=null,Pn=!1,t!==null&&Ng(i,t),i=gc(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function cd(t,i,a,l,h){return Ms(i),a=Ff(t,i,a,l,void 0,h),l=Gf(),t!==null&&!wt?(Qf(t,i,h),Yi(t,i,h)):(Pe&&l&&bf(i),i.flags|=1,Gt(t,i,a,h),i.child)}function Fy(t,i,a,l,h,d){return Ms(i),i.updateQueue=null,a=Kg(i,l,a,h),Qg(t),l=Gf(),t!==null&&!wt?(Qf(t,i,d),Yi(t,i,d)):(Pe&&l&&bf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function Gy(t,i,a,l,h){if(Ms(i),i.stateNode===null){var d=Aa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Aa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ad(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&od.enqueueReplaceState(d,d.state,null),rl(i,l,d,h),il(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,D=js(a,S);d.props=D;var B=d.context,X=a.contextType;_=Aa,typeof X=="object"&&X!==null&&(_=Ft(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Oy(i,d,l,_),Ir=!1;var q=i.memoizedState;d.state=q,rl(i,l,d,h),il(),B=i.memoizedState,S||q!==B||Ir?(typeof ee=="function"&&(ad(i,a,ee,l),B=i.memoizedState),(D=Ir||Dy(i,a,D,l,q,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),_=i.memoizedProps,X=js(a,_),d.props=X,ee=i.pendingProps,q=d.context,B=a.contextType,D=Aa,typeof B=="object"&&B!==null&&(D=Ft(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||q!==D)&&Oy(i,d,l,D),Ir=!1,q=i.memoizedState,d.state=q,rl(i,l,d,h),il();var Q=i.memoizedState;_!==ee||q!==Q||Ir||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof S=="function"&&(ad(i,a,S,l),Q=i.memoizedState),(X=Ir||Dy(i,a,X,l,q,Q,D)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ks(i,t.child,null,h),i.child=ks(i,null,a,h)):Gt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Yi(t,i,h),t}function Qy(t,i,a,l){return xs(),i.flags|=256,Gt(t,i,a,l),i.child}var hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fd(t){return{baseLanes:t,cachePool:Lg()}}function dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Ky(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Or(i):xr(),(t=tt)?(t=tv(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=Rg(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Rr(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(xr(),h=i.mode,S=_c({mode:"hidden",children:S},h),l=Os(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,ul(null,l)):(Or(i),md(i,S))}var D=t.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=pd(t,i,a)):i.memoizedState!==null?(xr(),i.child=t.child,i.flags|=128,i=null):(xr(),S=l.fallback,h=i.mode,l=_c({mode:"visible",children:l.children},h),S=Os(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,ks(i,t.child,null,a),l=i.child,l.memoizedState=fd(a),l.childLanes=dd(t,_,a),i.memoizedState=hd,i=ul(null,l));else if(Or(i),Xd(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,Jo({value:l,source:null,stack:null}),i=pd(t,i,a)}else if(wt||Ca(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=et,_!==null&&(l=Do(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ds(t,l),fn(_,t,l),ud;Yd(S)||Cc(),i=pd(t,i,a)}else Yd(S)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,tt=kn(S.nextSibling),Ht=i,Pe=!0,br=null,Pn=!1,t!==null&&Ng(i,t),i=md(i,l.children),i.flags|=4096);return i}return h?(xr(),S=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=qi(B,S):(S=Os(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,ul(null,l),l=i.child,S=t.child.memoizedState,S===null?S=fd(a):(h=S.cachePool,h!==null?(D=St._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Lg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=dd(t,_,a),i.memoizedState=hd,ul(t.child,l)):(Or(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function md(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=_n(22,t,null,i),t.lanes=0,t}function pd(t,i,a){return ks(i,t.child,null,a),t=md(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Yy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function gd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Xy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,oe(mt,_),Gt(t,i,l,a),l=Pe?$o:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,a,i);else if(t.tag===19)Yy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),gd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&ac(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gd(i,!0,a,null,d,l);break;case"together":gd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Yi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Lr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ca(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function yd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function BA(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Cr(i,St,t.memoizedState.cache),xs();break;case 27:case 5:fs(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,qf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ky(t,i,a):(Or(i),t=Yi(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ca(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(mt,mt.current),l)break;return null;case 22:return i.lanes=0,By(t,i,a,i.pendingProps);case 24:Cr(i,St,t.memoizedState.cache)}return Yi(t,i,a)}function $y(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!yd(t,a)&&(i.flags&128)===0)return wt=!1,BA(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(i.flags&1048576)!==0&&Ig(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")Sf(t)?(l=js(t,l),i.tag=1,i=Gy(null,i,t,l,a)):(i.tag=0,i=cd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===Te){i.tag=11,i=ky(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=zy(null,i,t,l,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return cd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=js(l,i.pendingProps),Gy(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),rl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Cr(i,St,l),l!==d.cache&&Of(i,[St],a,!0),il(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Vn(Error(s(424)),i),Jo(h),i=Qy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,tt=kn(t.firstChild),Ht=i,Pe=!0,br=null,Pn=!0,a=Bg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(xs(),l===h){i=Yi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return yc(t,i),t===null?(a=ov(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Mc(Ce.current).createElement(a),l[vt]=i,l[Lt]=t,Qt(l,a,t),Et(l),i.stateNode=l):i.memoizedState=ov(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fs(i),t===null&&Pe&&(l=i.stateNode=rv(i.type,i.pendingProps,Ce.current),Ht=i,Pn=!0,h=tt,jr(i.type)?($d=h,tt=kn(l.firstChild)):tt=h),Gt(t,i,i.pendingProps.children,a),yc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=tt)&&(l=yw(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Ht=i,tt=kn(l.firstChild),Pn=!1,h=!0):h=!1),h||Rr(i)),fs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:_!==null&&Gd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Ff(t,i,xA,null,null,a),wl._currentValue=h),yc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=_w(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Ht=i,tt=null,t=!0):t=!1),t||Rr(i)),null;case 13:return Ky(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ks(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return ky(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ms(i),h=Ft(h),l=l(h),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return zy(t,i,i.type,i.pendingProps,a);case 15:return jy(t,i,i.type,i.pendingProps,a);case 19:return Xy(t,i,a);case 31:return jA(t,i,a);case 22:return By(t,i,a,i.pendingProps);case 24:return Ms(i),l=Ft(St),t===null?(h=Mf(),h===null&&(h=et,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),Cr(i,St,h)):((t.lanes&a)!==0&&(Uf(t,i),rl(i,null,null,a),il()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,St,l)):(l=d.cache,Cr(i,St,l),l!==h.cache&&Of(i,[St],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function _d(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(A_())t.flags|=8192;else throw Us=nc,Lf}else t.flags&=-16777217}function Jy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(i))if(A_())t.flags|=8192;else throw Us=nc,Lf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?bu():536870912,t.lanes|=i,za|=i)}function cl(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qA(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Gi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(nt(i),Jy(i,d)):(nt(i),_d(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),nt(i),Jy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),nt(i),_d(i,h,t,l,a)),null;case 27:if(ra(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Ra(i)?Dg(i):(t=rv(h,l,a),i.stateNode=t,Xi(i))}return nt(i),null;case 5:if(ra(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Ra(i))Dg(i);else{var _=Mc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[vt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return nt(i),_d(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||K_(t.nodeValue,a)),t||Rr(i,!0)}else t=Mc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ra(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[vt]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(En(i),i):(En(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else xs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(En(i),i):(En(i),null)}return En(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&jd(i.stateNode.containerInfo),nt(i),null;case 10:return Gi(i.type),nt(i),null;case 19:if(te(mt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)cl(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=ac(t),d!==null){for(i.flags|=128,cl(l,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)bg(a,t),a=a.sibling;return oe(mt,mt.current&1|2),Pe&&Hi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>wc&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=ac(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(i),null}else 2*en()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=mt.current,oe(mt,h?a&1|2:a&1),Pe&&Hi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return En(i),Bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Ls),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function HA(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ra(i),null;case 31:if(i.memoizedState!==null){if(En(i),i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(En(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));xs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(mt),null;case 4:return st(),null;case 10:return Gi(i.type),null;case 22:case 23:return En(i),Bf(),t!==null&&te(Ls),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(St),null;case 25:return null;default:return null}}function Zy(t,i){switch(Rf(i),i.tag){case 3:Gi(St),st();break;case 26:case 27:case 5:ra(i);break;case 4:st();break;case 31:i.memoizedState!==null&&En(i);break;case 13:En(i);break;case 19:te(mt);break;case 10:Gi(i.type);break;case 22:case 23:En(i),Bf(),t!==null&&te(Ls);break;case 24:Gi(St)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Ye(i,i.return,S)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var D=a,B=S;try{B()}catch(X){Ye(h,D,X)}}}l=l.next}while(l!==d)}}catch(X){Ye(i,i.return,X)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(l){Ye(t,t.return,l)}}}function e_(t,i,a){a.props=js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function bi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function t_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function vd(t,i,a){try{var l=t.stateNode;hw(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function n_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Qn));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function Ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,i,a),t=t.sibling;t!==null;)Ec(t,i,a),t=t.sibling}function i_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[vt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var $i=!1,bt=!1,Sd=!1,r_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function FA(t,i){if(t=t.containerInfo,Hd=Bc,t=gg(t),pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,D=-1,B=0,X=0,ee=t,q=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(D=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++X===l&&(D=_),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Bc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=js(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Ye(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function s_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&hl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Wy(a),l&512&&fl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&i_(a);case 26:case 5:Zi(t,a),i===null&&l&4&&t_(a),l&512&&fl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&l_(t,a);break;case 13:Zi(t,a),l&4&&u_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WA.bind(null,a),vw(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||bt,h=$i;var d=bt;$i=l,(bt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),$i=h,bt=d}break;case 30:break;default:Zi(t,a)}}function a_(t){var i=t.alternate;i!==null&&(t.alternate=null,a_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ua(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function Ji(t,i,a){for(a=a.child;a!==null;)o_(t,i,a),a=a.sibling}function o_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:bt||bi(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||bi(a,i);var l=ot,h=ln;jr(a.type)&&(ot=a.stateNode,ln=!1),Ji(t,i,a),Tl(a.stateNode),ot=l,ln=h;break;case 5:bt||bi(a,i);case 6:if(l=ot,h=ln,ot=null,Ji(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):W_(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,Ji(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Vr(2,a,i),bt||Vr(4,a,i),Ji(t,i,a);break;case 1:bt||(bi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&e_(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,Ji(t,i,a),bt=l;break;default:Ji(t,i,a)}}function l_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ye(i,i.return,a)}}}function u_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ye(i,i.return,a)}}function GA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new r_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new r_),i;default:throw Error(s(435,t.tag))}}function Tc(t,i){var a=GA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ew.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){ot=S.stateNode,ln=!1;break e}break;case 5:ot=S.stateNode,ln=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ot===null)throw Error(s(160));o_(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)c_(i,t),i=i.sibling}var Zn=null;function c_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Vr(3,t,t.return),hl(3,t),Vr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(bt||a===null||bi(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(un(i,t),cn(t),l&512&&(bt||a===null||bi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[vt]=t,Et(d),l=d;break e;case"link":var _=cv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=cv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,Et(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(bt||a===null||bi(a,a.return)),a!==null&&l&4&&vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(bt||a===null||bi(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(ce){Ye(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,vd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Sd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ye(t,t.return,ce)}}break;case 3:if(Uc=null,h=Zn,Zn=Lc(i.containerInfo),un(i,t),Zn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ce){Ye(t,t.return,ce)}Sd&&(Sd=!1,h_(t));break;case 4:l=Zn,Zn=Lc(t.stateNode.containerInfo),un(i,t),cn(t),Zn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=$i,X=bt;if($i=B||h,bt=X||D,un(i,t),bt=X,$i=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||$i||bt||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var ee=D.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ye(D,D.return,ce)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ce){Ye(D,D.return,ce)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;h?ev(Q,!0):ev(D.stateNode,!1)}catch(ce){Ye(D,D.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(n_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(t);Ec(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=Ed(t);Ec(t,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Ed(t);Td(t,B,D);break;default:throw Error(s(161))}}catch(X){Ye(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function h_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;h_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)s_(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),Bs(i);break;case 1:bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&e_(i,i.return,a),Bs(i);break;case 27:Tl(i.stateNode);case 26:case 5:bi(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),hl(4,d);break;case 1:if(Wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ye(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)qg(D[h],S)}catch(B){Ye(l,l.return,B)}}a&&_&64&&Wy(d),fl(d,d.return);break;case 27:i_(d);case 26:case 5:Wi(h,d,a),a&&l===null&&_&4&&t_(d),fl(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&l_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&u_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),fl(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zo(a))}function wd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t))}function Wn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)f_(t,i,a,l),i=i.sibling}function f_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,l),h&2048&&hl(9,i);break;case 1:Wn(t,i,a,l);break;case 3:Wn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zo(t)));break;case 12:if(h&2048){Wn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ye(i,i.return,D)}}else Wn(t,i,a,l);break;case 31:Wn(t,i,a,l);break;case 13:Wn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,l):dl(t,i):d._visibility&2?Wn(t,i,a,l):(d._visibility|=2,Pa(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(_,i);break;case 24:Wn(t,i,a,l),h&2048&&wd(i.alternate,i);break;default:Wn(t,i,a,l)}}function Pa(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(d,_,S,D,h),hl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Pa(d,_,S,D,h):dl(d,_):(X._visibility|=2,Pa(d,_,S,D,h)),h&&B&2048&&Ad(_.alternate,_);break;case 24:Pa(d,_,S,D,h),h&&B&2048&&wd(_.alternate,_);break;default:Pa(d,_,S,D,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&Ad(l.alternate,l);break;case 24:dl(a,l),h&2048&&wd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Ua(t,i,a){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)d_(t,i,a),t=t.sibling}function d_(t,i,a){switch(t.tag){case 26:Ua(t,i,a),t.flags&ml&&t.memoizedState!==null&&Ow(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,i,a);break;case 3:case 4:var l=Zn;Zn=Lc(t.stateNode.containerInfo),Ua(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ml,ml=16777216,Ua(t,i,a),ml=l):Ua(t,i,a));break;default:Ua(t,i,a)}}function m_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p_(t),t=t.sibling}function p_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):pl(t);break;default:pl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,g_(l,t)}m_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function g_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(a_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var QA={getCacheForType:function(t){var i=Ft(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(St).controller.signal}},KA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,Ne=null,Oe=0,Ke=0,Tn=null,Mr=!1,ka=!1,bd=!1,er=0,ht=0,Lr=0,qs=0,Rd=0,Sn=0,za=0,gl=null,hn=null,Cd=!1,Ac=0,y_=0,wc=1/0,bc=null,Pr=null,Vt=0,Ur=null,ja=null,tr=0,Id=0,Nd=null,__=null,yl=0,Dd=null;function An(){return(Fe&2)!==0&&Oe!==0?Oe&-Oe:$.T!==null?Pd():Ru()}function v_(){if(Sn===0)if((Oe&536870912)===0||Pe){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),Sn=t}else Sn=536870912;return t=vn.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),kr(t,Oe,Sn,!1)),gs(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(qs|=a),ht===4&&kr(t,Oe,Sn,!1)),Ri(t))}function E_(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?$A(t,i):xd(t,i,!0),d=l;do{if(h===0){ka&&!l&&kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!YA(a)){h=xd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=gl;var D=S.current.memoizedState.isDehydrated;if(D&&(Ba(S,_).flags|=256),_=xd(S,_,!1),_!==2){if(bd&&!D){S.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:kr(l,i,Sn,!Mr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-en(),10<h)){if(kr(l,i,Sn,!Mr),li(l,0,!0)!==0)break e;tr=i,l.timeoutHandle=J_(T_.bind(null,l,a,hn,bc,Cd,i,Sn,qs,za,Mr,d,"Throttled",-0,0),h);break e}T_(l,a,hn,bc,Cd,i,Sn,qs,za,Mr,d,null,-0,0)}}break}while(!0);Ri(t)}function T_(t,i,a,l,h,d,_,S,D,B,X,ee,q,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},d_(i,d,ee);var ce=(d&62914560)===d?Ac-en():(d&4194048)===d?y_-en():0;if(ce=xw(ee,ce),ce!==null){tr=d,t.cancelPendingCommit=ce(N_.bind(null,t,i,d,a,l,h,_,S,D,X,ee,null,q,Q)),kr(t,d,_,!B);return}}N_(t,i,d,a,l,h,_,S,D)}function YA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!yn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function kr(t,i,a,l){i&=~Rd,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ys(t,a,i)}function Rc(){return(Fe&6)===0?(_l(0),!1):!0}function Od(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Fi=Vs=null,Kf(t),Oa=null,el=0,t=Ne;for(;t!==null;)Zy(t.alternate,t),t=t.return;Ne=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,Od(),et=t,Ne=a=qi(t.current,null),Oe=i,Ke=0,Tn=null,Mr=!1,ka=Hn(t,i),bd=!1,za=Sn=Rd=qs=Lr=ht=0,hn=gl=null,Cd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-ft(l),d=1<<h;i|=t[h],l&=~d}return er=i,Ku(),a}function S_(t,i){Re=null,$.H=ll,i===Da||i===tc?(i=kg(),Ke=3):i===Lf?(i=kg(),Ke=4):Ke=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ne===null&&(ht=1,pc(t,Vn(i,t.current)))}function A_(){var t=vn.current;return t===null?!0:(Oe&4194048)===Oe?Un===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===Un:!1}function w_(){var t=$.H;return $.H=ll,t===null?ll:t}function b_(){var t=$.A;return $.A=QA,t}function Cc(){ht=4,Mr||(Oe&4194048)!==Oe&&vn.current!==null||(ka=!0),(Lr&134217727)===0&&(qs&134217727)===0||et===null||kr(et,Oe,Sn,!1)}function xd(t,i,a){var l=Fe;Fe|=2;var h=w_(),d=b_();(et!==t||Oe!==i)&&(bc=null,Ba(t,i)),i=!1;var _=ht;e:do try{if(Ke!==0&&Ne!==null){var S=Ne,D=Tn;switch(Ke){case 8:Od(),_=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var B=Ke;if(Ke=0,Tn=null,qa(t,S,D,B),a&&ka){_=0;break e}break;default:B=Ke,Ke=0,Tn=null,qa(t,S,D,B)}}XA(),_=ht;break}catch(X){S_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Fi=Vs=null,Fe=l,$.H=h,$.A=d,Ne===null&&(et=null,Oe=0,Ku()),_}function XA(){for(;Ne!==null;)R_(Ne)}function $A(t,i){var a=Fe;Fe|=2;var l=w_(),h=b_();et!==t||Oe!==i?(bc=null,wc=en()+500,Ba(t,i)):ka=Hn(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=Tn;t:switch(Ke){case 1:Ke=0,Tn=null,qa(t,i,d,1);break;case 2:case 9:if(Pg(d)){Ke=0,Tn=null,C_(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),Ri(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Pg(d)?(Ke=0,Tn=null,C_(i)):(Ke=0,Tn=null,qa(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?fv(_):S.stateNode.complete){Ke=0,Tn=null;var D=S.sibling;if(D!==null)Ne=D;else{var B=S.return;B!==null?(Ne=B,Ic(B)):Ne=null}break t}}Ke=0,Tn=null,qa(t,i,d,5);break;case 6:Ke=0,Tn=null,qa(t,i,d,6);break;case 8:Od(),ht=6;break e;default:throw Error(s(462))}}JA();break}catch(X){S_(t,X)}while(!0);return Fi=Vs=null,$.H=l,$.A=h,Fe=a,Ne!==null?0:(et=null,Oe=0,Ku(),ht)}function JA(){for(;Ne!==null&&!lf();)R_(Ne)}function R_(t){var i=$y(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function C_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Fy(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=Fy(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:Kf(i);default:Zy(a,i),i=Ne=bg(i,er),i=$y(a,i,er)}t.memoizedProps=t.pendingProps,i===null?Ic(t):Ne=i}function qa(t,i,a,l){Fi=Vs=null,Kf(i),Oa=null,el=0;var h=i.return;try{if(zA(t,h,i,a,Oe)){ht=1,pc(t,Vn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,pc(t,Vn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:ka||(Oe&536870912)!==0?t=!1:(Mr=t=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I_(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){I_(i,Mr);return}t=i.return;var a=qA(i.alternate,i,er);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function I_(t,i){do{var a=HA(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function N_(t,i,a,l,h,d,_,S,D){t.cancelPendingCommit=null;do Nc();while(Vt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Ef,hf(t,a,d,_,S,D),t===et&&(Ne=et=null,Oe=0),ja=i,Ur=t,tr=a,Id=d,Nd=h,__=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tw(mr,function(){return M_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=ae.p,ae.p=2,_=Fe,Fe|=4;try{FA(t,i,a)}finally{Fe=_,ae.p=h,$.T=l}}Vt=1,D_(),O_(),x_()}}function D_(){if(Vt===1){Vt=0;var t=Ur,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{c_(i,t);var d=Fd,_=gg(t.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&pg(S.ownerDocument.documentElement,S)){if(D!==null&&pf(S)){var B=D.start,X=D.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var Q=q.getSelection(),ce=S.textContent.length,ge=Math.min(D.start,ce),Ze=D.end===void 0?ge:Math.min(D.end,ce);!Q.extend&&ge>Ze&&(_=Ze,Ze=ge,ge=_);var P=mg(S,ge),x=mg(S,Ze);if(P&&x&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==x.node||Q.focusOffset!==x.offset)){var j=ee.createRange();j.setStart(P.node,P.offset),Q.removeAllRanges(),ge>Ze?(Q.addRange(j),Q.extend(x.node,x.offset)):(j.setEnd(x.node,x.offset),Q.addRange(j))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Bc=!!Hd,Fd=Hd=null}finally{Fe=h,ae.p=l,$.T=a}}t.current=i,Vt=2}}function O_(){if(Vt===2){Vt=0;var t=Ur,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{s_(t,i.alternate,i)}finally{Fe=h,ae.p=l,$.T=a}}Vt=3}}function x_(){if(Vt===4||Vt===3){Vt=0,vu();var t=Ur,i=ja,a=tr,l=__;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,ja=Ur=null,V_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Pr=null),ki(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=ae.p,ae.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{$.T=i,ae.p=h}}(tr&3)!==0&&Nc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?yl++:(yl=0,Dd=t):yl=0,_l(0)}}function V_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zo(i)))}function Nc(){return D_(),O_(),x_(),M_()}function M_(){if(Vt!==5)return!1;var t=Ur,i=Id;Id=0;var a=ki(tr),l=$.T,h=ae.p;try{ae.p=32>a?32:a,$.T=null,a=Nd,Nd=null;var d=Ur,_=tr;if(Vt=0,ja=Ur=null,tr=0,(Fe&6)!==0)throw Error(s(331));var S=Fe;if(Fe|=4,p_(d.current),f_(d,d.current,_,a),Fe=S,_l(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ae.p=h,$.T=l,V_(t,i)}}function L_(t,i,a){i=Vn(a,i),i=ld(t.stateNode,i,2),t=Dr(t,i,2),t!==null&&(gs(t,2),Ri(t))}function Ye(t,i,a){if(t.tag===3)L_(t,t,a);else for(;i!==null;){if(i.tag===3){L_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){t=Vn(a,t),a=Py(2),l=Dr(i,a,2),l!==null&&(Uy(a,l,i,t),gs(l,2),Ri(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(bd=!0,h.add(a),t=ZA.bind(null,t,i,a),i.then(t,t))}function ZA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Oe&a)===a&&(ht===4||ht===3&&(Oe&62914560)===Oe&&300>en()-Ac?(Fe&2)===0&&Ba(t,0):Rd|=a,za===Oe&&(za=0)),Ri(t)}function P_(t,i){i===0&&(i=bu()),t=Ds(t,i),t!==null&&(gs(t,i),Ri(t))}function WA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),P_(t,a)}function ew(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),P_(t,a)}function tw(t,i){return xt(t,i)}var Dc=null,Ha=null,Md=!1,Oc=!1,Ld=!1,zr=0;function Ri(t){t!==Ha&&t.next===null&&(Ha===null?Dc=Ha=t:Ha=Ha.next=t),Oc=!0,Md||(Md=!0,iw())}function _l(t,i){if(!Ld&&Oc){Ld=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,j_(l,d))}else d=Oe,d=li(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,j_(l,d));l=l.next}while(a);Ld=!1}}function nw(){U_()}function U_(){Oc=Md=!1;var t=0;zr!==0&&dw()&&(t=zr);for(var i=en(),a=null,l=Dc;l!==null;){var h=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Ha=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Vt!==0&&Vt!==5||_l(t),zr!==0&&(zr=0)}function k_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,D=h[_];D===-1?((S&a)===0||(S&l)!==0)&&(h[_]=cf(S,i)):D<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=Oe,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&dr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&dr(l),ki(a)){case 2:case 8:a=Io;break;case 32:a=mr;break;case 268435456:a=Eu;break;default:a=mr}return l=z_.bind(null,t),a=xt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&dr(l),t.callbackPriority=2,t.callbackNode=null,2}function z_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=Oe;return l=li(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E_(t,l,i),k_(t,en()),t.callbackNode!=null&&t.callbackNode===a?z_.bind(null,t):null)}function j_(t,i){if(Nc())return null;E_(t,i,!0)}function iw(){pw(function(){(Fe&6)!==0?xt(Co,nw):U_()})}function Pd(){if(zr===0){var t=Ia;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),zr=t}return zr}function B_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:da(""+t)}function q_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=B_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?B_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(zr!==0){var D=_?q_(h,_):new FormData(h);nd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?q_(h,_):new FormData(h),nd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Ud=0;Ud<vf.length;Ud++){var kd=vf[Ud],sw=kd.toLowerCase(),aw=kd[0].toUpperCase()+kd.slice(1);Jn(sw,"on"+aw)}Jn(vg,"onAnimationEnd"),Jn(Eg,"onAnimationIteration"),Jn(Tg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(SA,"onTransitionRun"),Jn(AA,"onTransitionStart"),Jn(wA,"onTransitionCancel"),Jn(Sg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ow=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function H_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,B=S.currentTarget,S=S.listener,D!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Qu(X)}h.currentTarget=null,d=D}}}}function De(t,i){var a=i[la];a===void 0&&(a=i[la]=new Set);var l=t+"__bubble";a.has(l)||(F_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),F_(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[xc]){t[xc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(ow.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,zd("selectionchange",!1,i))}}function F_(t,i,a,l){switch(vv(i)){case 2:var h=Lw;break;case 8:h=Pw;break;default:h=tm}a=h.bind(null,i,a,t),h=void 0,!Ss||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Er(function(){var B=d,X=Nn(a),ee=[];e:{var q=Ag.get(t);if(q!==void 0){var Q=vi,ce=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Q=Hu;break;case"focusin":ce="focus",Q=Rs;break;case"focusout":ce="blur",Q=Rs;break;case"beforeblur":case"afterblur":Q=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=p;break;case vg:case Eg:case Tg:Q=Pu;break;case Sg:Q=A;break;case"scroll":case"scrollend":Q=Ho;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Bi;break;case"toggle":case"beforetoggle":Q=be}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),P=ge?q!==null?q+"Capture":null:q;ge=[];for(var x=B,j;x!==null;){var Z=x;if(j=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||j===null||P===null||(Z=Kn(x,P),Z!=null&&ge.push(El(x,Z,j))),Ze)break;x=x.return}0<ge.length&&(q=new Q(q,ce,null,a,X),ee.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==jo&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((Q||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?fi(ce):null,ce!==null&&(Ze=u(ce),ge=ce.tag,ce!==Ze||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(ge=Fo,Z="onMouseLeave",P="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Bi,Z="onPointerLeave",P="onPointerEnter",x="pointer"),Ze=Q==null?q:pn(Q),j=ce==null?q:pn(ce),q=new ge(Z,x+"leave",Q,a,X),q.target=Ze,q.relatedTarget=j,Z=null,fi(X)===B&&(ge=new ge(P,x+"enter",ce,a,X),ge.target=j,ge.relatedTarget=Ze,Z=ge),Ze=Z,Q&&ce)t:{for(ge=lw,P=Q,x=ce,j=0,Z=P;Z;Z=ge(Z))j++;Z=0;for(var de=x;de;de=ge(de))Z++;for(;0<j-Z;)P=ge(P),j--;for(;0<Z-j;)x=ge(x),Z--;for(;j--;){if(P===x||x!==null&&P===x.alternate){ge=P;break t}P=ge(P),x=ge(x)}ge=null}else ge=null;Q!==null&&G_(ee,q,Q,ge,!1),ce!==null&&Ze!==null&&G_(ee,Ze,ce,ge,!0)}}e:{if(q=B?pn(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Be=lg;else if(ag(q))if(ug)Be=vA;else{Be=yA;var he=gA}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&fa(B.elementType)&&(Be=lg):Be=_A;if(Be&&(Be=Be(t,B))){og(ee,Be,a,X);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Uo(q,"number",q.value)}switch(he=B?pn(B):window,t){case"focusin":(ag(he)||he.contentEditable==="true")&&(Ea=he,gf=B,Xo=null);break;case"focusout":Xo=gf=Ea=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,yg(ee,a,X);break;case"selectionchange":if(TA)break;case"keydown":case"keyup":yg(ee,a,X)}var Ie;if(He)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else va?Cs(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Si&&a.locale!=="ko"&&(va||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&va&&(Ie=qo()):(_i=X,Bo="value"in _i?_i.value:_i.textContent,va=!0)),he=Vc(B,xe),0<he.length&&(xe=new Ti(xe,t,null,a,X),ee.push({event:xe,listeners:he}),Ie?xe.data=Ie:(Ie=_a(a),Ie!==null&&(xe.data=Ie)))),(Ie=On?fA(t,a):dA(t,a))&&(xe=Vc(B,"onBeforeInput"),0<xe.length&&(he=new Ti("onBeforeInput","beforeinput",null,a,X),ee.push({event:he,listeners:xe}),he.data=Ie)),rw(ee,t,B,a,X)}H_(ee,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Kn(t,a),h!=null&&l.unshift(El(t,h,d)),h=Kn(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,h?(B=Kn(a,d),B!=null&&_.unshift(El(a,B,D))):h||(B=Kn(a,d),B!=null&&_.push(El(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var uw=/\r\n?/g,cw=/\u0000|\uFFFD/g;function Q_(t){return(typeof t=="string"?t:""+t).replace(uw,`
`).replace(cw,"")}function K_(t,i){return i=Q_(i),Q_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":gn(t,"class",l);break;case"tabIndex":gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(i!=="object"){gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=da(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=da(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ca(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ca(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,ca(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ca(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":D=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Du(t,d,S,D,B,_,h,!1);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?gr(t,!!l,i,!1):a!=null&&gr(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}yr(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(t,i,D,l,a,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)De(vl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(fa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function hw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,D=null,B=null,X=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||Je(t,i,Q,null,l,ee)}}for(var q in l){var Q=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&Je(t,i,q,Q,l,ee)}}ha(t,_,S,D,B,X,d,h);return;case"select":Q=_=S=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Je(t,i,h,d,l,D)}i=S,a=_,l=Q,q!=null?gr(t,!!a,q,!1):!!l!=!!a&&(i!=null?gr(t,!!a,i,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Ou(t,q,Q);return;case"option":for(var ce in a)q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!l.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:Je(t,i,ce,null,l,q));for(D in l)q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":Je(t,i,D,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&Je(t,i,ge,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,l,Q)}return;default:if(fa(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&qd(t,i,Ze,void 0,l,q);for(X in l)q=l[X],Q=a[X],!l.hasOwnProperty(X)||q===Q||q===void 0&&Q===void 0||qd(t,i,X,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Je(t,i,P,null,l,q);for(ee in l)q=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||q===Q||q==null&&Q==null||Je(t,i,ee,q,l,Q)}function Y_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Y_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var X=D.transferSize,ee=D.initiatorType;X&&Y_(ee)&&(D=D.responseEnd,_+=X*(D<S?1:(S-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Fd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function X_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qd=null;function dw(){var t=window.event;return t&&t.type==="popstate"?t===Qd?!1:(Qd=t,!0):(Qd=null,!1)}var J_=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(t){return Z_.resolve(null).then(t).catch(gw)}:J_;function gw(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Ka(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Tl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Tl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Tl(t.ownerDocument.body);a=h}while(a);Ka(i)}function ev(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),ua(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function _w(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=kn(t.nextSibling),t===null))return null;return t}function tv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=kn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var $d=null;function nv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function iv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function rv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ua(t)}var zn=new Map,sv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=ae.d;ae.d={f:Ew,r:Tw,D:Sw,C:Aw,L:ww,m:bw,X:Cw,S:Rw,M:Iw};function Ew(){var t=nr.f(),i=Rc();return t||i}function Tw(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Sy(i):nr.r(t)}var Fa=typeof document>"u"?null:document;function av(t,i,a){var l=Fa;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),Et(i),l.head.appendChild(i)))}}function Sw(t){nr.D(t),av("dns-prefetch",t,null)}function Aw(t,i){nr.C(t,i),av("preconnect",t,i)}function ww(t,i,a){nr.L(t,i,a);var l=Fa;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=Ga(t);break;case"script":d=Qa(t)}zn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),Qt(i,"link",t),Et(i),l.head.appendChild(i)))}}function bw(t,i){nr.m(t,i);var a=Fa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!zn.has(d)&&(t=T({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),Qt(l,"link",t),Et(l),a.head.appendChild(l)}}}function Rw(t,i,a){nr.S(t,i,a);var l=Fa;if(l&&t){var h=di(l).hoistableStyles,d=Ga(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Sl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&Jd(t,a);var D=_=l.createElement("link");Et(D),Qt(D,"link",t),D._p=new Promise(function(B,X){D.onload=B,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Pc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function Cw(t,i){nr.X(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0},i),(i=zn.get(h))&&Zd(t,i),d=a.createElement("script"),Et(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Iw(t,i){nr.M(t,i);var a=Fa;if(a&&t){var l=di(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&Zd(t,i),d=a.createElement("script"),Et(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,i,a,l){var h=(h=Ce.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ga(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ga(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Sl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||Nw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ga(t){return'href="'+an(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Nw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),Et(i),t.head.appendChild(i))}function Qa(t){return'[src="'+an(t)+'"]'}function Al(t){return"script[async]"+t}function uv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,Et(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Et(l),Qt(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ga(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,Et(d),d;l=lv(a),(h=zn.get(h))&&Jd(l,h),d=(t.ownerDocument||t).createElement("link"),Et(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qt(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,Et(h),h):(l=a,(h=zn.get(d))&&(l=T({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function cv(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function hv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Dw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ow(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ga(l.href),d=i.querySelector(Sl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Et(d);return}d=i.ownerDocument||i,l=lv(l),(h=zn.get(h))&&Jd(l,h),d=d.createElement("link"),Et(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Wd=0;function xw(t,i){return t.stylesheets&&t.count===0&&jc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Wd===0&&(Wd=62500*fw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&jc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Wd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)jc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function jc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(Vw,t),zc=null,kc.call(t))}function Vw(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Mw(t,i,a,l,h,d,_,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function dv(t,i,a,l,h,d,_,S,D,B,X,ee){return t=new Mw(t,i,a,_,D,B,X,ee,S),i=1,d===!0&&(i|=24),d=_n(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function mv(t){return t?(t=Aa,t):Aa}function pv(t,i,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Dr(t,l,i),a!==null&&(fn(a,t,i),nl(a,t,i))}function gv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function em(t,i){gv(t,i),(t=t.alternate)&&gv(t,i)}function yv(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&fn(i,t,67108864),em(t,67108864)}}function _v(t){if(t.tag===13||t.tag===31){var i=An();i=_s(i);var a=Ds(t,i);a!==null&&fn(a,t,i),em(t,i)}}var Bc=!0;function Lw(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=2,tm(t,i,a,l)}finally{ae.p=d,$.T=h}}function Pw(t,i,a,l){var h=$.T;$.T=null;var d=ae.p;try{ae.p=8,tm(t,i,a,l)}finally{ae.p=d,$.T=h}}function tm(t,i,a,l){if(Bc){var h=nm(l);if(h===null)Bd(t,i,l,qc,a),Ev(t,l);else if(kw(h,t,i,a,l))l.stopPropagation();else if(Ev(t,l),i&4&&-1<Uw.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ft(_);S.entanglements[1]|=D,_&=~D}Ri(d),(Fe&6)===0&&(wc=en()+500,_l(0))}}break;case 31:case 13:S=Ds(d,2),S!==null&&fn(S,d,2),Rc(),em(d,2)}if(d=nm(l),d===null&&Bd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function nm(t){return t=Nn(t),im(t)}var qc=null;function im(t){if(qc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function vv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Co:return 2;case Io:return 8;case mr:case uf:return 32;case Eu:return 268435456;default:return 32}default:return 32}}var rm=!1,Br=null,qr=null,Hr=null,bl=new Map,Rl=new Map,Fr=[],Uw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&yv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kw(t,i,a,l,h){switch(i){case"focusin":return Br=Cl(Br,t,i,a,l,h),!0;case"dragenter":return qr=Cl(qr,t,i,a,l,h),!0;case"mouseover":return Hr=Cl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return bl.set(d,Cl(bl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Cl(Rl.get(d)||null,t,i,a,l,h)),!0}return!1}function Tv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){_v(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){_v(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=In(a),i!==null&&yv(i),t.blockedOn=a,!1;i.shift()}return!0}function Sv(t,i,a){Hc(t)&&a.delete(i)}function zw(){rm=!1,Br!==null&&Hc(Br)&&(Br=null),qr!==null&&Hc(qr)&&(qr=null),Hr!==null&&Hc(Hr)&&(Hr=null),bl.forEach(Sv),Rl.forEach(Sv)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zw)))}var Gc=null;function Av(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,nd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ka(t){function i(D){return Fc(D,t)}Br!==null&&Fc(Br,t),qr!==null&&Fc(qr,t),Hr!==null&&Fc(Hr,t),bl.forEach(i),Rl.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Tv(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Av(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(im(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Av(a)}}}function wv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function sm(t){this._internalRoot=t}Qc.prototype.render=sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();pv(a,l,t,i,null,null)},Qc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pv(t.current,2,null,t,null,null),Rc(),i[ci]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ru();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&Tv(t)}};var bv=e.version;if(bv!=="19.2.3")throw Error(s(527,bv,"19.2.3"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var jw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{qn=Kc.inject(jw),Bt=Kc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=xy,d=Vy,_=My;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=dv(t,1,!1,null,null,a,l,null,h,d,_,wv),t[ci]=i.current,jd(t),new sm(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=xy,_=Vy,S=My,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=dv(t,1,!0,i,a??null,l,h,D,d,_,S,wv),i.context=mv(null),a=i.current,l=An(),l=_s(l),h=Nr(l),h.callback=null,Dr(a,h,l),a=l,i.current.lanes=a,gs(i,a),Ri(i),t[ci]=i.current,jd(t),new Qc(i)},Nl.version="19.2.3",Nl}var Lv;function $w(){if(Lv)return lm.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=Xw(),lm.exports}var Jw=$w();var Pv="popstate";function Zw(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Cm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Hl(o)}return e1(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ii(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ww(){return Math.random().toString(36).substring(2,10)}function Uv(r,e){return{usr:r.state,key:r.key,idx:e}}function Cm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||Ww()}}function Hl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function e1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let k=E(),Y=k==null?null:k-y;y=k,g&&g({action:m,location:F.location,delta:Y})}function R(k,Y){m="PUSH";let W=Cm(F.location,k,Y);y=E()+1;let ie=Uv(W,y),Te=F.createHref(W);try{f.pushState(ie,"",Te)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(Te)}u&&g&&g({action:m,location:F.location,delta:1})}function V(k,Y){m="REPLACE";let W=Cm(F.location,k,Y);y=E();let ie=Uv(W,y),Te=F.createHref(W);f.replaceState(ie,"",Te),u&&g&&g({action:m,location:F.location,delta:0})}function K(k){return t1(k)}let F={get action(){return m},get location(){return r(o,f)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Pv,T),g=k,()=>{o.removeEventListener(Pv,T),g=null}},createHref(k){return e(o,k)},createURL:K,encodeLocation(k){let Y=K(k);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:V,go(k){return f.go(k)}};return F}function t1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Hl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function gT(r,e,n="/"){return n1(r,e,n,!1)}function n1(r,e,n,s){let o=typeof e=="string"?fo(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=yT(r);i1(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=m1(u);m=f1(f[g],y,s)}return m}function yT(r,e=[],n=[],s="",o=!1){let u=(f,m,g=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&g)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ar([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),yT(f.children,e,R,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:c1(T,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let g of _T(f.path))u(f,m,!0,g)}),e}function _T(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=_T(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function i1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:h1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,s1=3,a1=2,o1=1,l1=10,u1=-2,kv=r=>r==="*";function c1(r,e){let n=r.split("/"),s=n.length;return n.some(kv)&&(s+=u1),e&&(s+=a1),n.filter(o=>!kv(o)).reduce((o,u)=>o+(r1.test(u)?s1:u===""?o1:l1),s)}function h1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function f1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),R=g.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:ar([u,T.pathname]),pathnameBase:_1(ar([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return f}function dh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=d1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},R)=>{if(E==="*"){let K=m[R]||"";f=u.slice(0,u.length-K.length).replace(/(.)\/+$/,"$1")}const V=m[R];return T&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function d1(r,e=!1,n=!0){ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function m1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var vT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=r=>vT.test(r);function g1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r,u;if(n)if(p1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),ii(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=zv(n.substring(1),"/"):u=zv(n,e)}else u=e;return{pathname:u,search:v1(s),hash:E1(o)}}function zv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function fm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ET(r){let e=y1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function TT(r,e,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),fm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),fm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),fm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}m=T>=0?e[T]:"/"}let g=g1(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),_1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),v1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,E1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,T1=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function S1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function A1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AT(r,e){let n=r;if(typeof n!="string"||!vT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ST)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=or(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{ii(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wT=["POST","PUT","PATCH","DELETE"];new Set(wT);var w1=["GET",...wT];new Set(w1);var mo=H.createContext(null);mo.displayName="DataRouter";var Mh=H.createContext(null);Mh.displayName="DataRouterState";var b1=H.createContext(!1),bT=H.createContext({isTransitioning:!1});bT.displayName="ViewTransition";var R1=H.createContext(new Map);R1.displayName="Fetchers";var C1=H.createContext(null);C1.displayName="Await";var Bn=H.createContext(null);Bn.displayName="Navigation";var nu=H.createContext(null);nu.displayName="Location";var Ui=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var rp=H.createContext(null);rp.displayName="RouteError";var RT="REACT_ROUTER_ERROR",I1="REDIRECT",N1="ROUTE_ERROR_RESPONSE";function D1(r){if(r.startsWith(`${RT}:${I1}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function O1(r){if(r.startsWith(`${RT}:${N1}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new T1(e.status,e.statusText,e.data)}catch{}}function x1(r,{relative:e}={}){lt(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Bn),{hash:o,pathname:u,search:f}=su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:o})}function iu(){return H.useContext(nu)!=null}function Zs(){return lt(iu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(nu).location}var CT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IT(r){H.useContext(Bn).static||H.useLayoutEffect(r)}function ru(){let{isDataRoute:r}=H.useContext(Ui);return r?G1():V1()}function V1(){lt(iu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(mo),{basename:e,navigator:n}=H.useContext(Bn),{matches:s}=H.useContext(Ui),{pathname:o}=Zs(),u=JSON.stringify(ET(s)),f=H.useRef(!1);return IT(()=>{f.current=!0}),H.useCallback((g,y={})=>{if(ii(f.current,CT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=TT(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ar([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}H.createContext(null);function NT(){let{matches:r}=H.useContext(Ui),e=r[r.length-1];return e?e.params:{}}function su(r,{relative:e}={}){let{matches:n}=H.useContext(Ui),{pathname:s}=Zs(),o=JSON.stringify(ET(n));return H.useMemo(()=>TT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function M1(r,e){return DT(r,e)}function DT(r,e,n,s,o){lt(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Bn),{matches:f}=H.useContext(Ui),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let W=T&&T.path||"";xT(y,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=Zs(),V;if(e){let W=typeof e=="string"?fo(e):e;lt(E==="/"||W.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),V=W}else V=R;let K=V.pathname||"/",F=K;if(E!=="/"){let W=E.replace(/^\//,"").split("/");F="/"+K.replace(/^\//,"").split("/").slice(W.length).join("/")}let k=gT(r,{pathname:F});ii(T||k!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),ii(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=z1(k&&k.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ar([E,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:ar([E,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),f,n,s,o);return e&&Y?H.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Y):Y}function L1(){let r=F1(),e=S1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var P1=H.createElement(L1,null),OT=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=O1(r.digest);n&&(r=n)}let e=r!==void 0?H.createElement(Ui.Provider,{value:this.props.routeContext},H.createElement(rp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(U1,{error:r},e):e}};OT.contextType=b1;var dm=new WeakMap;function U1({children:r,error:e}){let{basename:n}=H.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=D1(e.digest);if(s){let o=dm.get(e);if(o)throw o;let u=AT(s.location,n);if(ST&&!dm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw dm.set(e,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function k1({routeContext:r,match:e,children:n}){let s=H.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ui.Provider,{value:r},n)}function z1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,g=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=E),T.route.id){let{loaderData:R,errors:V}=n,K=T.route.loader&&!R.hasOwnProperty(T.route.id)&&(!V||V[T.route.id]===void 0);if(T.route.lazy||K){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:A1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,R)=>{let V,K=!1,F=null,k=null;n&&(V=f&&T.route.id?f[T.route.id]:void 0,F=T.route.errorElement||P1,m&&(g<0&&R===0?(xT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),K=!0,k=null):g===R&&(K=!0,k=T.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,R+1)),W=()=>{let ie;return V?ie=F:K?ie=k:T.route.Component?ie=H.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=E,H.createElement(k1,{match:T,routeContext:{outlet:E,matches:Y,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||R===0)?H.createElement(OT,{location:n.location,revalidation:n.revalidation,component:F,error:V,children:W(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):W()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function j1(r){let e=H.useContext(mo);return lt(e,sp(r)),e}function B1(r){let e=H.useContext(Mh);return lt(e,sp(r)),e}function q1(r){let e=H.useContext(Ui);return lt(e,sp(r)),e}function ap(r){let e=q1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function H1(){return ap("useRouteId")}function F1(){let r=H.useContext(rp),e=B1("useRouteError"),n=ap("useRouteError");return r!==void 0?r:e.errors?.[n]}function G1(){let{router:r}=j1("useNavigate"),e=ap("useNavigate"),n=H.useRef(!1);return IT(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{ii(n.current,CT),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var jv={};function xT(r,e,n){!e&&!jv[r]&&(jv[r]=!0,ii(!1,n))}H.memo(Q1);function Q1({routes:r,future:e,state:n,onError:s}){return DT(r,void 0,n,s,e)}function Ol(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=fo(n));let{pathname:y="/",search:E="",hash:T="",state:R=null,key:V="default"}=n,K=H.useMemo(()=>{let F=or(y,m);return F==null?null:{location:{pathname:F,search:E,hash:T,state:R,key:V},navigationType:s}},[m,y,E,T,R,V,s]);return ii(K!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),K==null?null:H.createElement(Bn.Provider,{value:g},H.createElement(nu.Provider,{children:e,value:K}))}function Y1({children:r,location:e}){return M1(Im(r),e)}function Im(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Im(s.props.children,u));return}lt(s.type===Ol,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Im(s.props.children,u)),n.push(f)}),n}var th="get",nh="application/x-www-form-urlencoded";function Lh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function X1(r){return Lh(r)&&r.tagName.toLowerCase()==="button"}function $1(r){return Lh(r)&&r.tagName.toLowerCase()==="form"}function J1(r){return Lh(r)&&r.tagName.toLowerCase()==="input"}function Z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function W1(r,e){return r.button===0&&(!e||e==="_self")&&!Z1(r)}var Yc=null;function eb(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var tb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mm(r){return r!=null&&!tb.has(r)?(ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nh}"`),null):r}function nb(r,e){let n,s,o,u,f;if($1(r)){let m=r.getAttribute("action");s=m?or(m,e):null,n=r.getAttribute("method")||th,o=mm(r.getAttribute("enctype"))||nh,u=new FormData(r)}else if(X1(r)||J1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?or(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||th,o=mm(r.getAttribute("formenctype"))||mm(m.getAttribute("enctype"))||nh,u=new FormData(m,r),!eb()){let{name:y,type:E,value:T}=r;if(E==="image"){let R=y?`${y}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else y&&u.append(y,T)}}else{if(Lh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=th,s=null,o=nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ib(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&or(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function rb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ab(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await rb(u,n);return f.links?f.links():[]}return[]}));return cb(s.flat(1).filter(sb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bv(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ob(r,e,{includeHydrateFallback:n}={}){return lb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lb(r){return[...new Set(r)]}function ub(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function cb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ub(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function VT(){let r=H.useContext(mo);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hb(){let r=H.useContext(Mh);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=H.createContext(void 0);lp.displayName="FrameworkContext";function MT(){let r=H.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function fb(r,e){let n=H.useContext(lp),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=Y=>{Y.forEach(W=>{f(W.isIntersecting)})},k=new IntersectionObserver(F,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[r]),H.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let V=()=>{o(!0)},K=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Dl(m,V),onBlur:Dl(g,K),onMouseEnter:Dl(y,V),onMouseLeave:Dl(E,K),onTouchStart:Dl(T,V)}]:[!1,R,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function db({page:r,...e}){let{router:n}=VT(),s=H.useMemo(()=>gT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(pb,{page:r,matches:s,...e}):null}function mb(r){let{manifest:e,routeModules:n}=MT(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return ab(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function pb({page:r,matches:e,...n}){let s=Zs(),{future:o,manifest:u,routeModules:f}=MT(),{basename:m}=VT(),{loaderData:g,matches:y}=hb(),E=H.useMemo(()=>Bv(r,e,y,u,s,"data"),[r,e,y,u,s]),T=H.useMemo(()=>Bv(r,e,y,u,s,"assets"),[r,e,y,u,s]),R=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,k=!1;if(e.forEach(W=>{let ie=u.routes[W.route.id];!ie||!ie.hasLoader||(!E.some(Te=>Te.route.id===W.route.id)&&W.route.id in g&&f[W.route.id]?.shouldRevalidate||ie.hasClientLoader?k=!0:F.add(W.route.id))}),F.size===0)return[];let Y=ib(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return k&&F.size>0&&Y.searchParams.set("_routes",e.filter(W=>F.has(W.route.id)).map(W=>W.route.id).join(",")),[Y.pathname+Y.search]},[m,o.unstable_trailingSlashAwareDataRequests,g,s,u,E,e,r,f]),V=H.useMemo(()=>ob(T,u),[T,u]),K=mb(T);return H.createElement(H.Fragment,null,R.map(F=>H.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),V.map(F=>H.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),K.map(({key:F,link:k})=>H.createElement("link",{key:F,nonce:n.nonce,...k})))}function gb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yb&&(window.__reactRouterVersion="7.12.0")}catch{}function _b({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=H.useRef();o.current==null&&(o.current=Zw({window:s,v5Compat:!0}));let u=o.current,[f,m]=H.useState({action:u.action,location:u.location}),g=H.useCallback(y=>{n===!1?m(y):H.startTransition(()=>m(y))},[n]);return H.useLayoutEffect(()=>u.listen(g),[u,g]),H.createElement(K1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PT=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...V},K){let{basename:F,unstable_useTransitions:k}=H.useContext(Bn),Y=typeof y=="string"&&LT.test(y),W=AT(y,F);y=W.to;let ie=x1(y,{relative:o}),[Te,Ae,we]=fb(s,V),C=Sb(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:R,unstable_useTransitions:k});function b(L){e&&e(L),L.defaultPrevented||C(L)}let I=H.createElement("a",{...V,...we,href:W.absoluteURL||ie,onClick:W.isExternal||u?e:b,ref:gb(K,Ae),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return Te&&!Y?H.createElement(H.Fragment,null,I,H.createElement(db,{page:ie})):I});PT.displayName="Link";var vb=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let T=su(f,{relative:y.relative}),R=Zs(),V=H.useContext(Mh),{navigator:K,basename:F}=H.useContext(Bn),k=V!=null&&Cb(T)&&m===!0,Y=K.encodeLocation?K.encodeLocation(T).pathname:T.pathname,W=R.pathname,ie=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&F&&(ie=or(ie,F)||ie);const Te=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let Ae=W===Y||!o&&W.startsWith(Y)&&W.charAt(Te)==="/",we=ie!=null&&(ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),C={isActive:Ae,isPending:we,isTransitioning:k},b=Ae?e:void 0,I;typeof s=="function"?I=s(C):I=[s,Ae?"active":null,we?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof u=="function"?u(C):u;return H.createElement(PT,{...y,"aria-current":b,className:I,ref:E,style:L,to:f,viewTransition:m},typeof g=="function"?g(C):g)});vb.displayName="NavLink";var Eb=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=th,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R,...V},K)=>{let{unstable_useTransitions:F}=H.useContext(Bn),k=bb(),Y=Rb(m,{relative:y}),W=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&LT.test(m),Te=Ae=>{if(g&&g(Ae),Ae.defaultPrevented)return;Ae.preventDefault();let we=Ae.nativeEvent.submitter,C=we?.getAttribute("formmethod")||f,b=()=>k(we||Ae.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:R});F&&n!==!1?H.startTransition(()=>b()):b()};return H.createElement("form",{ref:K,method:W,action:Y,onSubmit:s?g:Te,...V,"data-discover":!ie&&r==="render"?"true":void 0})});Eb.displayName="Form";function Tb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UT(r){let e=H.useContext(mo);return lt(e,Tb(r)),e}function Sb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=ru(),E=Zs(),T=su(r,{relative:u});return H.useCallback(R=>{if(W1(R,e)){R.preventDefault();let V=n!==void 0?n:Hl(E)===Hl(T),K=()=>y(r,{replace:V,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?H.startTransition(()=>K()):K()}},[E,y,T,n,s,e,r,o,u,f,m,g])}var Ab=0,wb=()=>`__${String(++Ab)}__`;function bb(){let{router:r}=UT("useSubmit"),{basename:e}=H.useContext(Bn),n=H1(),s=r.fetch,o=r.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:E,body:T}=nb(u,e);if(f.navigate===!1){let R=f.fetcherKey||wb();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Rb(r,{relative:e}={}){let{basename:n}=H.useContext(Bn),s=H.useContext(Ui);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...su(r||".",{relative:e})},f=Zs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),Hl(u)}function Cb(r,{relative:e}={}){let n=H.useContext(bT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=UT("useViewTransitionState"),o=su(r,{relative:e});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return dh(o.pathname,f)!=null||dh(o.pathname,u)!=null}const Ib=()=>{};var qv={};const kT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Nb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},zT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let R=(m&15)<<2|y>>6,V=y&63;g||(V=64,f||(R=64)),s.push(n[E],n[T],n[R],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new Db;const R=u<<2|m>>4;if(s.push(R),y!==64){const V=m<<4&240|y>>2;if(s.push(V),T!==64){const K=y<<6&192|T;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const e=kT(r);return zT.encodeByteArray(e,!0)},mh=function(r){return Ob(r).replace(/\./g,"")},jT=function(r){try{return zT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vb=()=>xb().__FIREBASE_DEFAULTS__,Mb=()=>{if(typeof process>"u"||typeof qv>"u")return;const r=qv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jT(r[1]);return e&&JSON.parse(e)},Ph=()=>{try{return Ib()||Vb()||Mb()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BT=r=>Ph()?.emulatorHosts?.[r],Pb=r=>{const e=BT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qT=()=>Ph()?.config,HT=r=>Ph()?.[`_${r}`];class Ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function po(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FT(r){return(await fetch(r,{credentials:"include"})).ok}function kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}const Pl={};function zb(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function jb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Hv=!1;function GT(r,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||Pl[r]===e||Pl[r]||Hv)return;Pl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=zb().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function g(R,V){R.setAttribute("width","24"),R.setAttribute("id",V),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function y(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{Hv=!0,f()},R}function E(R,V){R.setAttribute("id",V),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function T(){const R=jb(s),V=n("text"),K=document.getElementById(V)||document.createElement("span"),F=n("learnmore"),k=document.getElementById(F)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const ie=R.element;m(ie),E(k,F);const Te=y();g(W,Y),ie.append(W,K,k,Te),document.body.appendChild(ie)}u?(K.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function qb(){const r=Ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qb(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yb(){try{return typeof indexedDB=="object"}catch{return!1}}function Xb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const $b="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$b,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,au.prototype.create)}}class au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Jb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function Jb(r,e){return r.replace(Zb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Zb=/\{\$([^}]+)}/g;function Wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ks(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Fv(u)&&Fv(f)){if(!Ks(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Fv(r){return r!==null&&typeof r=="object"}function ou(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=pm),o.error===void 0&&(o.error=pm),o.complete===void 0&&(o.complete=pm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function pm(){}function jt(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Hs="[DEFAULT]";class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Ub;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(r){return r===Hs?void 0:r}function sR(r){return r.instantiationMode==="EAGER"}class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const oR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},lR=Ve.INFO,uR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},cR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const hR=(r,e)=>e.some(n=>r instanceof n);let Gv,Qv;function fR(){return Gv||(Gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QT=new WeakMap,Nm=new WeakMap,KT=new WeakMap,gm=new WeakMap,cp=new WeakMap;function mR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QT.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function pR(r){if(Nm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Nm.set(r,e)}let Dm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Nm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||KT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gR(r){Dm=r(Dm)}function yR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(ym(this),e,...n);return KT.set(s,e.sort?e.sort():[e]),Jr(s)}:dR().includes(r)?function(...e){return r.apply(ym(this),e),Jr(QT.get(this))}:function(...e){return Jr(r.apply(ym(this),e))}}function _R(r){return typeof r=="function"?yR(r):(r instanceof IDBTransaction&&pR(r),hR(r,fR())?new Proxy(r,Dm):r)}function Jr(r){if(r instanceof IDBRequest)return mR(r);if(gm.has(r))return gm.get(r);const e=_R(r);return e!==r&&(gm.set(r,e),cp.set(e,r)),e}const ym=r=>cp.get(r);function vR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Jr(f.result),g.oldVersion,g.newVersion,Jr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],_m=new Map;function Kv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(_m.get(e))return _m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return _m.set(e,u),u}gR(r=>({...r,get:(e,n,s)=>Kv(e,n)||r.get(e,n,s),has:(e,n)=>!!Kv(e,n)||r.has(e,n)}));class SR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AR(r){return r.getComponent()?.type==="VERSION"}const Om="@firebase/app",Yv="0.14.6";const lr=new up("@firebase/app"),wR="@firebase/app-compat",bR="@firebase/analytics-compat",RR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",NR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",xR="@firebase/data-connect",VR="@firebase/database-compat",MR="@firebase/functions",LR="@firebase/functions-compat",PR="@firebase/installations",UR="@firebase/installations-compat",kR="@firebase/messaging",zR="@firebase/messaging-compat",jR="@firebase/performance",BR="@firebase/performance-compat",qR="@firebase/remote-config",HR="@firebase/remote-config-compat",FR="@firebase/storage",GR="@firebase/storage-compat",QR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",XR="firebase",$R="12.6.0";const xm="[DEFAULT]",JR={[Om]:"fire-core",[wR]:"fire-core-compat",[RR]:"fire-analytics",[bR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[NR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[xR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[MR]:"fire-fn",[LR]:"fire-fn-compat",[PR]:"fire-iid",[UR]:"fire-iid-compat",[kR]:"fire-fcm",[zR]:"fire-fcm-compat",[jR]:"fire-perf",[BR]:"fire-perf-compat",[qR]:"fire-rc",[HR]:"fire-rc-compat",[FR]:"fire-gcs",[GR]:"fire-gcs-compat",[QR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};const ph=new Map,ZR=new Map,Vm=new Map;function Xv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(Vm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of ph.values())Xv(n,r);for(const n of ZR.values())Xv(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ei(r){return r==null?!1:r.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new au("app","Firebase",WR);class eC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}const go=$R;function YT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:xm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=qT()),!n)throw Zr.create("no-options");const u=ph.get(o);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new aR(o);for(const g of Vm.values())f.addComponent(g);const m=new eC(n,s,f);return ph.set(o,m),m}function XT(r=xm){const e=ph.get(r);if(!e&&r===xm&&qT())return YT();if(!e)throw Zr.create("no-app",{appName:r});return e}function Wr(r,e,n){let s=JR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(f.join(" "));return}ro(new Ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tC="firebase-heartbeat-database",nC=1,Fl="firebase-heartbeat-store";let vm=null;function $T(){return vm||(vm=vR(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),vm}async function iC(r){try{const n=(await $T()).transaction(Fl),s=await n.objectStore(Fl).get(JT(r));return await n.done,s}catch(e){if(e instanceof fr)lr.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e?.message});lr.warn(n.message)}}}async function $v(r,e){try{const s=(await $T()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,JT(r)),await s.done}catch(n){if(n instanceof fr)lr.warn(n.message);else{const s=Zr.create("idb-set",{originalErrorMessage:n?.message});lr.warn(s.message)}}}function JT(r){return`${r.name}!${r.options.appId}`}const rC=1024,sC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sC){const o=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Jv(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return lr.warn(e),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Zv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Zv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yb()?Xb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return $v(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Zv(r){return mh(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function cC(r){ro(new Ys("platform-logger",e=>new SR(e),"PRIVATE")),ro(new Ys("heartbeat",e=>new aC(e),"PRIVATE")),Wr(Om,Yv,r),Wr(Om,Yv,"esm2020"),Wr("fire-js","")}cC("");function ZT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=ZT,WT=new au("auth","Firebase",ZT());const gh=new up("@firebase/auth");function fC(r,...e){gh.logLevel<=Ve.WARN&&gh.warn(`Auth (${go}): ${r}`,...e)}function ih(r,...e){gh.logLevel<=Ve.ERROR&&gh.error(`Auth (${go}): ${r}`,...e)}function Mi(r,...e){throw dp(r,...e)}function ni(r,...e){return dp(r,...e)}function fp(r,e,n){const s={...hC(),[e]:n};return new au("auth","Firebase",s).create(e,{appName:r.name})}function Qs(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Mi(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return WT.create(r,...e)}function _e(r,e,...n){if(!r)throw dp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function ur(r,e){r||rr(e)}function Mm(){return typeof self<"u"&&self.location?.href||""}function mC(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function pC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mC()||Fb()||"connection"in navigator)?navigator.onLine:!0}function gC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=Bb()||Gb()}get(){return pC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class e0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vC=new lu(3e4,6e4);function pp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function yo(r,e,n,s,o={}){return t0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ou({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return Hb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&po(r.emulatorConfig.host)&&(y.credentials="include"),e0.fetch()(await n0(r,r.config.apiHost,n,m),y)})}async function t0(r,e,n){r._canInitEmulator=!1;const s={...yC,...e};try{const o=new TC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Xc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Xc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fp(r,E,y);Mi(r,E)}}catch(o){if(o instanceof fr)throw o;Mi(r,"network-request-failed",{message:String(o)})}}async function EC(r,e,n,s,o={}){const u=await yo(r,e,n,s,o);return"mfaPendingCredential"in u&&Mi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function n0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?mp(r.config,o):`${r.config.apiScheme}://${o}`;return _C.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class TC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),vC.get())})}}function Xc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ni(r,e,s);return o.customData._tokenResponse=n,o}async function SC(r,e){return yo(r,"POST","/v1/accounts:delete",e)}async function yh(r,e){return yo(r,"POST","/v1/accounts:lookup",e)}function Ul(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AC(r,e=!1){const n=jt(r),s=await n.getIdToken(e),o=gp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Ul(Em(o.auth_time)),issuedAtTime:Ul(Em(o.iat)),expirationTime:Ul(Em(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Em(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=jT(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o?.toString()),null}}function eE(r){const e=gp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&wC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class bC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _h(r){const e=r.auth,n=await r.getIdToken(),s=await Gl(r,yh(e,{idToken:n}));_e(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?i0(o.providerUserInfo):[],f=CC(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,E)}async function RC(r){const e=jt(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function i0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function IC(r,e){const n=await t0(r,{},async()=>{const s=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await n0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&po(r.emulatorConfig.host)&&(g.credentials="include"),e0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(r,e){return yo(r,"POST","/v2/accounts:revokeToken",pp(r,e))}class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await IC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return rr("not implemented")}}function Qr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new bC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AC(this,e)}reload(){return RC(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Gl(this,SC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:R,isAnonymous:V,providerData:K,stsTokenManager:F}=n;_e(T&&F,e,"internal-error");const k=Wa.fromJSON(this.name,F);_e(typeof T=="string",e,"internal-error"),Qr(s,e.name),Qr(o,e.name),_e(typeof R=="boolean",e,"internal-error"),_e(typeof V=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(g,e.name),Qr(y,e.name),Qr(E,e.name);const Y=new ti({uid:T,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:y,lastLoginAt:E});return K&&Array.isArray(K)&&(Y.providerData=K.map(W=>({...W}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?i0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const g=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}const tE=new Map;function sr(r){ur(r instanceof Function,"Expected a class definition");let e=tE.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tE.set(r,e),e)}class r0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r0.type="NONE";const nE=r0;function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class eo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=rh(this.userKey,o.apiKey,u),this.fullPersistenceKey=rh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new eo(sr(nE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(nE);const f=rh(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let T;if(typeof E=="string"){const R=await yh(e,{idToken:E}).catch(()=>{});if(!R)break;T=await ti._fromGetAccountInfoResponse(e,R,E)}else T=ti._fromJSON(e,E);y!==u&&(m=T),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new eo(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new eo(u,e,s))}}function iE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(l0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(s0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(c0(e))return"Blackberry";if(h0(e))return"Webos";if(a0(e))return"Safari";if((e.includes("chrome/")||o0(e))&&!e.includes("edge/"))return"Chrome";if(u0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function s0(r=Wt()){return/firefox\//i.test(r)}function a0(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o0(r=Wt()){return/crios\//i.test(r)}function l0(r=Wt()){return/iemobile/i.test(r)}function u0(r=Wt()){return/android/i.test(r)}function c0(r=Wt()){return/blackberry/i.test(r)}function h0(r=Wt()){return/webos/i.test(r)}function yp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DC(r=Wt()){return yp(r)&&!!window.navigator?.standalone}function OC(){return Qb()&&document.documentMode===10}function f0(r=Wt()){return yp(r)||u0(r)||h0(r)||c0(r)||/windows phone/i.test(r)||l0(r)}function d0(r,e=[]){let n;switch(r){case"Browser":n=iE(Wt());break;case"Worker":n=`${iE(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}class xC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function VC(r,e={}){return yo(r,"GET","/v2/passwordPolicy",pp(r,e))}const MC=6;class LC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class PC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Qs(this));const n=e?jt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),n=new LC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uh(r){return jt(r)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(r){_p=r}function kC(r){return _p.loadJS(r)}function zC(){return _p.gapiScript}function jC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function BC(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ks(u,e??{}))return o;Mi(o,"already-initialized")}return n.initialize({options:e})}function qC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function HC(r,e,n){const s=Uh(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=m0(e),{host:f,port:m}=FC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e(Ks(y,s.config.emulator)&&Ks(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,po(f)?(FT(`${u}//${f}${g}`),GT("Auth",!0)):GC()}function m0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function FC(r){const e=m0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:sE(f)}}}function sE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function GC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class p0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function to(r,e){return EC(r,"POST","/v1/accounts:signInWithIdp",pp(r,e))}const QC="http://localhost";class Xs extends p0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return to(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,to(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,to(e,n)}buildRequest(){const e={requestUri:QC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ou(n)}return e}}class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kr extends uu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";class ir extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class Yr extends uu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";class Xr extends uu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";class so{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=aE(s);return new so({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=aE(s);return new so({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function aE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class vh extends fr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new vh(e,n,s,o)}}function g0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(r,u,e,s):u})}async function KC(r,e,n=!1){const s=await Gl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return so._forOperation(r,"link",s)}async function YC(r,e,n=!1){const{auth:s}=r;if(ei(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await Gl(r,g0(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=gp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),so._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Mi(s,"user-mismatch"),u}}async function XC(r,e,n=!1){if(ei(r.app))return Promise.reject(Qs(r));const s="signIn",o=await g0(r,s,e),u=await so._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function $C(r,e,n,s){return jt(r).onIdTokenChanged(e,n,s)}function JC(r,e,n){return jt(r).beforeAuthStateChanged(e,n)}function ZC(r,e,n,s){return jt(r).onAuthStateChanged(e,n,s)}function WC(r){return jt(r).signOut()}const Eh="__sak";class y0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eI=1e3,tI=10;class _0 extends y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);OC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}_0.type="LOCAL";const nI=_0;class v0 extends y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v0.type="SESSION";const E0=v0;function iI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await iI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class rI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Ep("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===y)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ii(){return window}function sI(r){Ii().location.href=r}function T0(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function aI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oI(){return navigator?.serviceWorker?.controller||null}function lI(){return T0()?self:null}const S0="firebaseLocalStorageDb",uI=1,Th="firebaseLocalStorage",A0="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function cI(){const r=indexedDB.deleteDatabase(S0);return new cu(r).toPromise()}function Pm(){const r=indexedDB.open(S0,uI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:A0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await cI(),e(await Pm()))})})}async function oE(r,e,n){const s=zh(r,!0).put({[A0]:e,value:n});return new cu(s).toPromise()}async function hI(r,e){const n=zh(r,!1).get(e),s=await new cu(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=zh(r,!0).delete(e);return new cu(n).toPromise()}const fI=800,dI=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>dI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(lI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aI(),!this.activeServiceWorker)return;this.sender=new rI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await oE(e,Eh,"1"),await lE(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new cu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const mI=w0;new lu(3e4,6e4);function b0(r,e){return e?sr(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Tp extends p0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return to(e,this._buildIdpRequest())}_linkToIdToken(e,n){return to(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return to(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pI(r){return XC(r.auth,new Tp(r),r.bypassAuthState)}function gI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),YC(n,new Tp(r),r.bypassAuthState)}async function yI(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),KC(n,new Tp(r),r.bypassAuthState)}class R0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pI;case"linkViaPopup":case"linkViaRedirect":return yI;case"reauthViaPopup":case"reauthViaRedirect":return gI;default:Mi(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _I=new lu(2e3,1e4);async function vI(r,e,n){if(ei(r.app))return Promise.reject(ni(r,"operation-not-supported-in-this-environment"));const s=Uh(r);dC(r,e,vp);const o=b0(s,n);return new Fs(s,"signInViaPopup",e,o).executeNotNull()}class Fs extends R0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_I.get())};e()}}Fs.currentPopupAction=null;const EI="pendingRedirect",sh=new Map;class TI extends R0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await SI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SI(r,e){const n=bI(e),s=wI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function AI(r,e){sh.set(r._key(),e)}function wI(r){return sr(r._redirectPersistence)}function bI(r){return rh(EI,r.config.apiKey,r.name)}async function RI(r,e,n=!1){if(ei(r.app))return Promise.reject(Qs(r));const s=Uh(r),o=b0(s,e),f=await new TI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const CI=600*1e3;class II{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!C0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CI&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function C0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function NI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C0(r);default:return!1}}async function DI(r,e={}){return yo(r,"GET","/v1/projects",e)}const OI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xI=/^https?/;async function VI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DI(r);for(const n of e)try{if(MI(n))return}catch{}Mi(r,"unauthorized-domain")}function MI(r){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!xI.test(n))return!1;if(OI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const LI=new lu(3e4,6e4);function cE(){const r=Ii().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function PI(r){return new Promise((e,n)=>{function s(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(ni(r,"network-request-failed"))},timeout:LI.get()})}if(Ii().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ii().gapi?.load)s();else{const o=jC("iframefcb");return Ii()[o]=()=>{gapi.load?s():n(ni(r,"network-request-failed"))},kC(`${zC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ah=null,e})}let ah=null;function UI(r){return ah=ah||PI(r),ah}const kI=new lu(5e3,15e3),zI="__/auth/iframe",jI="emulator/auth/iframe",BI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HI(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,jI):`https://${r.config.authDomain}/${zI}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=qI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ou(s).slice(1)}`}async function FI(r){const e=await UI(r),n=Ii().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:HI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},kI.get());function g(){Ii().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}const GI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QI=500,KI=600,YI="_blank",XI="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $I(r,e,n,s=QI,o=KI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...GI,width:s.toString(),height:o.toString(),top:u,left:f},y=Wt().toLowerCase();n&&(m=o0(y)?YI:n),s0(y)&&(e=e||XI,g.scrollbars="yes");const E=Object.entries(g).reduce((R,[V,K])=>`${R}${V}=${K},`,"");if(DC(y)&&m!=="_self")return JI(e||"",m),new hE(null);const T=window.open(e||"",m,E);_e(T,r,"popup-blocked");try{T.focus()}catch{}return new hE(T)}function JI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const ZI="__/auth/handler",WI="emulator/auth/handler",e2=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof vp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Wb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof uu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${e2}=${encodeURIComponent(g)}`:"";return`${t2(r)}?${ou(m).slice(1)}${y}`}function t2({config:r}){return r.emulator?mp(r,WI):`https://${r.authDomain}/${ZI}`}const Tm="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=RI,this._overrideRedirectResult=AI}async _openPopup(e,n,s,o){ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,s,Mm(),o);return $I(e,u,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,Mm(),o);return sI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await FI(e),s=new II(e);return n.register("authEvent",o=>(_e(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{const u=o?.[0]?.[Tm];u!==void 0&&n(!!u),Mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f0()||a0()||yp()}}const i2=n2;var dE="@firebase/auth",mE="1.12.0";class r2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function s2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a2(r){ro(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d0(r)},y=new PC(s,o,u,g);return qC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Ys("auth-internal",e=>{const n=Uh(e.getProvider("auth").getImmediate());return(s=>new r2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wr(dE,mE,s2(r)),Wr(dE,mE,"esm2020")}const o2=300,l2=HT("authIdTokenMaxAge")||o2;let pE=null;const u2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>l2)return;const o=n?.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function c2(r=XT()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=BC(r,{popupRedirectResolver:i2,persistence:[mI,nI,E0]}),s=HT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=u2(u.toString());JC(n,f,()=>f(n.currentUser)),$C(n,m=>f(m))}}const o=BT("auth");return o&&HC(n,`http://${o}`),n}function h2(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",h2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a2("Browser");var f2="firebase",d2="12.7.0";Wr(f2,d2,"app");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var es,I0;(function(){var r;function e(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(L,O,U){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return b.prototype[O].apply(L,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,b,I){I||(I=0);const L=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)L[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)L[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let U=C.g[3],N;N=b+(U^I&(O^U))+L[0]+3614090360&4294967295,b=I+(N<<7&4294967295|N>>>25),N=U+(O^b&(I^O))+L[1]+3905402710&4294967295,U=b+(N<<12&4294967295|N>>>20),N=O+(I^U&(b^I))+L[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(b^O&(U^b))+L[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(U^I&(O^U))+L[4]+4118548399&4294967295,b=I+(N<<7&4294967295|N>>>25),N=U+(O^b&(I^O))+L[5]+1200080426&4294967295,U=b+(N<<12&4294967295|N>>>20),N=O+(I^U&(b^I))+L[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(b^O&(U^b))+L[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(U^I&(O^U))+L[8]+1770035416&4294967295,b=I+(N<<7&4294967295|N>>>25),N=U+(O^b&(I^O))+L[9]+2336552879&4294967295,U=b+(N<<12&4294967295|N>>>20),N=O+(I^U&(b^I))+L[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(b^O&(U^b))+L[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(U^I&(O^U))+L[12]+1804603682&4294967295,b=I+(N<<7&4294967295|N>>>25),N=U+(O^b&(I^O))+L[13]+4254626195&4294967295,U=b+(N<<12&4294967295|N>>>20),N=O+(I^U&(b^I))+L[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(b^O&(U^b))+L[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=b+(O^U&(I^O))+L[1]+4129170786&4294967295,b=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(b^I))+L[6]+3225465664&4294967295,U=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(U^b))+L[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^b&(O^U))+L[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^U&(I^O))+L[5]+3593408605&4294967295,b=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(b^I))+L[10]+38016083&4294967295,U=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(U^b))+L[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^b&(O^U))+L[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^U&(I^O))+L[9]+568446438&4294967295,b=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(b^I))+L[14]+3275163606&4294967295,U=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(U^b))+L[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^b&(O^U))+L[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(O^U&(I^O))+L[13]+2850285829&4294967295,b=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(b^I))+L[2]+4243563512&4294967295,U=b+(N<<9&4294967295|N>>>23),N=O+(b^I&(U^b))+L[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^b&(O^U))+L[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=b+(I^O^U)+L[5]+4294588738&4294967295,b=I+(N<<4&4294967295|N>>>28),N=U+(b^I^O)+L[8]+2272392833&4294967295,U=b+(N<<11&4294967295|N>>>21),N=O+(U^b^I)+L[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^b)+L[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^U)+L[1]+2763975236&4294967295,b=I+(N<<4&4294967295|N>>>28),N=U+(b^I^O)+L[4]+1272893353&4294967295,U=b+(N<<11&4294967295|N>>>21),N=O+(U^b^I)+L[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^b)+L[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^U)+L[13]+681279174&4294967295,b=I+(N<<4&4294967295|N>>>28),N=U+(b^I^O)+L[0]+3936430074&4294967295,U=b+(N<<11&4294967295|N>>>21),N=O+(U^b^I)+L[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^b)+L[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(I^O^U)+L[9]+3654602809&4294967295,b=I+(N<<4&4294967295|N>>>28),N=U+(b^I^O)+L[12]+3873151461&4294967295,U=b+(N<<11&4294967295|N>>>21),N=O+(U^b^I)+L[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^b)+L[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=b+(O^(I|~U))+L[0]+4096336452&4294967295,b=I+(N<<6&4294967295|N>>>26),N=U+(I^(b|~O))+L[7]+1126891415&4294967295,U=b+(N<<10&4294967295|N>>>22),N=O+(b^(U|~I))+L[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~b))+L[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~U))+L[12]+1700485571&4294967295,b=I+(N<<6&4294967295|N>>>26),N=U+(I^(b|~O))+L[3]+2399980690&4294967295,U=b+(N<<10&4294967295|N>>>22),N=O+(b^(U|~I))+L[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~b))+L[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~U))+L[8]+1873313359&4294967295,b=I+(N<<6&4294967295|N>>>26),N=U+(I^(b|~O))+L[15]+4264355552&4294967295,U=b+(N<<10&4294967295|N>>>22),N=O+(b^(U|~I))+L[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~b))+L[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=b+(O^(I|~U))+L[4]+4149444226&4294967295,b=I+(N<<6&4294967295|N>>>26),N=U+(I^(b|~O))+L[11]+3174756917&4294967295,U=b+(N<<10&4294967295|N>>>22),N=O+(b^(U|~I))+L[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~b))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}s.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,L=this.C;let O=this.h,U=0;for(;U<b;){if(O==0)for(;U<=I;)o(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<b;)if(L[O++]=C.charCodeAt(U++),O==this.blockSize){o(this,L),O=0;break}}else for(;U<b;)if(L[O++]=C[U++],O==this.blockSize){o(this,L),O=0;break}}this.h=O,this.o+=b},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let L=0;L<32;L+=8)C[b++]=this.g[I]>>>L&255;return C};function u(C,b){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function f(C,b){this.h=b;const I=[];let L=!0;for(let O=C.length-1;O>=0;O--){const U=C[O]|0;L&&U==b||(I[O]=U,L=!1)}this.g=I}var m={};function g(C){return-128<=C&&C<128?u(C,function(b){return new f([b|0],b<0?-1:0)}):new f([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return k(y(-C));const b=[];let I=1;for(let L=0;C>=I;L++)b[L]=C/I|0,I*=4294967296;return new f(b,0)}function E(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return k(E(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(b,8));let L=T;for(let U=0;U<C.length;U+=8){var O=Math.min(8,C.length-U);const N=parseInt(C.substring(U,U+O),b);O<8?(O=y(Math.pow(b,O)),L=L.j(O).add(y(N))):(L=L.j(I),L=L.add(y(N)))}return L}var T=g(0),R=g(1),V=g(16777216);r=f.prototype,r.m=function(){if(F(this))return-k(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const L=this.i(I);C+=(L>=0?L:4294967296+L)*b,b*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if(F(this))return"-"+k(this).toString(C);const b=y(Math.pow(C,6));var I=this;let L="";for(;;){const O=Te(I,b).g;I=Y(I,O.j(b));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,K(I))return U+L;for(;U.length<6;)U="0"+U;L=U+L}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=Y(this,C),F(C)?-1:K(C)?0:1};function k(C){const b=C.g.length,I=[];for(let L=0;L<b;L++)I[L]=~C.g[L];return new f(I,~C.h).add(R)}r.abs=function(){return F(this)?k(this):this},r.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let L=0;for(let O=0;O<=b;O++){let U=L+(this.i(O)&65535)+(C.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);L=N>>>16,U&=65535,N&=65535,I[O]=N<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function Y(C,b){return C.add(k(b))}r.j=function(C){if(K(this)||K(C))return T;if(F(this))return F(C)?k(this).j(k(C)):k(k(this).j(C));if(F(C))return k(this.j(k(C)));if(this.l(V)<0&&C.l(V)<0)return y(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var L=0;L<2*b;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(let O=0;O<C.g.length;O++){const U=this.i(L)>>>16,N=this.i(L)&65535,rt=C.i(O)>>>16,Dt=C.i(O)&65535;I[2*L+2*O]+=N*Dt,W(I,2*L+2*O),I[2*L+2*O+1]+=U*Dt,W(I,2*L+2*O+1),I[2*L+2*O+1]+=N*rt,W(I,2*L+2*O+1),I[2*L+2*O+2]+=U*rt,W(I,2*L+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new f(I,0)};function W(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function ie(C,b){this.g=C,this.h=b}function Te(C,b){if(K(b))throw Error("division by zero");if(K(C))return new ie(T,T);if(F(C))return b=Te(k(C),b),new ie(k(b.g),k(b.h));if(F(b))return b=Te(C,k(b)),new ie(k(b.g),b.h);if(C.g.length>30){if(F(C)||F(b))throw Error("slowDivide_ only works with positive integers.");for(var I=R,L=b;L.l(C)<=0;)I=Ae(I),L=Ae(L);var O=we(I,1),U=we(L,1);for(L=we(L,2),I=we(I,2);!K(L);){var N=U.add(L);N.l(C)<=0&&(O=O.add(I),U=N),L=we(L,1),I=we(I,1)}return b=Y(C,O.j(b)),new ie(O,b)}for(O=T;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),U=y(I),N=U.j(b);F(N)||N.l(C)>0;)I-=L,U=y(I),N=U.j(b);K(U)&&(U=R),O=O.add(U),C=Y(C,N)}return new ie(O,C)}r.B=function(C){return Te(this,C).h},r.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<b;L++)I[L]=this.i(L)&C.i(L);return new f(I,this.h&C.h)},r.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<b;L++)I[L]=this.i(L)|C.i(L);return new f(I,this.h|C.h)},r.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let L=0;L<b;L++)I[L]=this.i(L)^C.i(L);return new f(I,this.h^C.h)};function Ae(C){const b=C.g.length+1,I=[];for(let L=0;L<b;L++)I[L]=C.i(L)<<1|C.i(L-1)>>>31;return new f(I,C.h)}function we(C,b){const I=b>>5;b%=32;const L=C.g.length-I,O=[];for(let U=0;U<L;U++)O[U]=b>0?C.i(U+I)>>>b|C.i(U+I+1)<<32-b:C.i(U+I);return new f(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,I0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,es=f}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var N0,xl,D0,oh,Um,O0,x0,V0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&v.push([A,p[A]]);return v}});var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function E(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,z,G){for(var re=Array(arguments.length-2),be=2;be<arguments.length;be++)re[be-2]=arguments[be];return p.prototype[z].apply(A,re)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function V(c){const p=c.length;if(p>0){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function K(c,p){for(let A=1;A<arguments.length;A++){const z=arguments[A];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class F{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function k(c){f.setTimeout(()=>{throw c},0)}function Y(){var c=C;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class W{constructor(){this.h=this.g=null}add(p,v){const A=ie.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new F(()=>new Te,c=>c.reset());class Te{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,we=!1,C=new W,b=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(I)}};function I(){for(var c;c=Y();){try{c.h.call(c.g)}catch(v){k(v)}var p=ie;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}we=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function rt(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(rt,O),rt.prototype.init=function(c,p){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),$=0;function ae(c,p,v,A,z){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=z,this.key=++$,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function je(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function Ge(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,p){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let G=0;G<te.length;G++)v=te[G],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,v,A,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,p,A,z);return re>-1?(p=c[re],v||(p.fa=!1)):(p=new ae(p,this.src,G,!!A,z),p.fa=v,c.push(p)),p};function ve(c,p){const v=p.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,p,void 0),G;(G=z>=0)&&Array.prototype.splice.call(A,z,1),G&&(me(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,p,v,A){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==p&&G.capture==!!v&&G.ha==A)return z}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,p,v,A,z){if(Array.isArray(p)){for(let G=0;G<p.length;G++)st(c,p[G],v,A,z);return null}return v=Ro(v),c&&c[Dt]?c.J(p,v,m(A)?!!A.capture:!1,z):fs(c,p,v,!1,A,z)}function fs(c,p,v,A,z,G){if(!p)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let be=ds(c);if(be||(c[Ue]=be=new ue(c)),v=be.add(p,v,A,re,G),v.proxy)return v;if(A=ra(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)U||(z=re),z===void 0&&(z=!1),c.addEventListener(p.toString(),A,z);else if(c.attachEvent)c.attachEvent(si(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ra(){function c(v){return p.call(c.src,c.listener,v)}const p=wo;return c}function sa(c,p,v,A,z){if(Array.isArray(p))for(var G=0;G<p.length;G++)sa(c,p[G],v,A,z);else A=m(A)?!!A.capture:!!A,v=Ro(v),c&&c[Dt]?(c=c.i,G=String(p).toString(),G in c.g&&(p=c.g[G],v=Ce(p,v,A,z),v>-1&&(me(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[G],c.h--)))):c&&(c=ds(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ce(p,v,A,z)),(v=c>-1?p[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])ve(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(si(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=ds(p))?(ve(v,c),v.h==0&&(v.src=null,p[Ue]=null)):me(c)}}}function si(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function wo(c,p){if(c.da)c=!0;else{p=new rt(p,this);const v=c.listener,A=c.ha||c.src;c.fa&&aa(c),c=v.call(A,p)}return c}function ds(c){return c=c[Ue],c instanceof ue?c:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ro(c){return typeof c=="function"?c:(c[bo]||(c[bo]=function(p){return c.handleEvent(p)}),c[bo])}function yt(){L.call(this),this.i=new ue(this),this.M=this,this.G=null}T(yt,L),yt.prototype[Dt]=!0,yt.prototype.removeEventListener=function(c,p,v,A){sa(this,c,p,v,A)};function xt(c,p){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var z=p;p=new O(A,c),oe(p,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=p.g=v[re],z=dr(G,A,!0,p)&&z;if(G=p.g=c,z=dr(G,A,!0,p)&&z,z=dr(G,A,!1,p)&&z,v)for(re=0;re<v.length;re++)G=p.g=v[re],z=dr(G,A,!1,p)&&z}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[p],c.h--}}this.G=null},yt.prototype.J=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},yt.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function dr(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let z=!0;for(let G=0;G<p.length;++G){const re=p[G];if(re&&!re.da&&re.capture==v){const be=re.listener,dt=re.ha||re.src;re.fa&&ve(c.i,re),z=be.call(dt,A)!==!1&&z}}return z&&!A.defaultPrevented}function lf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function vu(c){c.g=lf(()=>{c.g=null,c.i&&(c.i=!1,vu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class en extends L{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:vu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){L.call(this),this.h=c,this.g={}}T(ms,L);var Co=[];function Io(c){je(c.g,function(p,v){this.g.hasOwnProperty(v)&&aa(p)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Io(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=f.JSON.stringify,uf=f.JSON.parse,Eu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Tu(){}function Su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){O.call(this,"d")}T(Bt,O);function Cn(){O.call(this,"c")}T(Cn,O);var ft={},Au=null;function oa(){return Au=Au||new yt}ft.Ia="serverreachability";function wu(c){O.call(this,ft.Ia,c)}T(wu,O);function ai(c){const p=oa();xt(p,new wu(p))}ft.STAT_EVENT="statevent";function ps(c,p){O.call(this,ft.STAT_EVENT,c),this.stat=p}T(ps,O);function _t(c){const p=oa();xt(p,new ps(p,c))}ft.Ja="timingevent";function oi(c,p){O.call(this,ft.Ja,c),this.size=p}T(oi,O);function li(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function cf(c,p,v,A,z,G){c.info(function(){if(c.g)if(G){var re="",be=G.split("&");for(let He=0;He<be.length;He++){var dt=be[He].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const On=at.split("_");re=On.length>=2&&On[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+p+`
`+v+`
`+re})}function bu(c,p,v,A,z,G,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+p+`
`+v+`
`+G+" "+re})}function ui(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+hf(c,v)+(A?" "+A:"")})}function gs(c,p){c.info(function(){return"TIMEOUT: "+p})}Hn.prototype.info=function(){};function hf(c,p){if(!c.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var z=A[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return mr(G)}catch{return p}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Do;function _s(){}T(_s,Tu),_s.prototype.g=function(){return new XMLHttpRequest},Do=new _s;function ki(c){return encodeURIComponent(String(c))}function Ru(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.S=A||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var vt={},Lt={};function ci(c,p,v){c.M=1,c.A=vs(Tt(p)),c.u=v,c.R=!0,la(c,null)}function la(c,p){c.F=Date.now(),hi(c),c.B=Tt(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),fa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Bu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new en(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,A=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Co[0]=z.toString()),z=Co);for(let G=0;G<z.length;G++){const re=st(v,z[G],A||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ai(),cf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const be=Yn(this.g),dt=this.g.ya(),He=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||be!=4||dt==7||(dt==8||He<=0?ai(3):ai(2)),fi(this);var p=this.g.ca();this.X=p;var v=ff(this);if(this.o=p==200,bu(this.i,this.v,this.B,this.l,this.S,be,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,z=this.g;if((A=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var G=A;break t}}G=null}if(c=G)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,_t(12),pn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Iu(this,v),at==Lt){be==4&&(this.m=4,_t(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(at==vt){this.m=4,_t(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,at,null),di(this,at);if(Cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||v.length!=0||this.h.h||(this.m=1,_t(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Go(re),re.P=!0,_t(11))}}else ui(this.i,this.l,v,null),di(this,v);be==4&&pn(this),this.o&&!this.K&&(be==4?Uu(this.j,this):(this.o=!1,hi(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),pn(this),In(this)}}}catch{}};function ff(c){if(!Cu(c))return c.g.la();const p=qt(c.g);if(p==="")return"";let v="";const A=p.length,z=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return pn(c),In(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,v+=c.h.i.decode(p[G],{stream:!(z&&G==A-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Lt:(v=Number(p.substring(v,A)),isNaN(v)?vt:(A+=1,A+v>p.length?Lt:(p=p.slice(A,A+v),c.C=A+v,p)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function hi(c){c.T=Date.now()+c.H,ua(c,c.H)}function ua(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),p)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ai(),_t(17)),pn(this),this.m=2,In(this)):ua(this,this.T-c)};function In(c){c.j.I==0||c.K||Uu(c.j,c)}function pn(c){fi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Io(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function di(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ya(v),Sr(v);else break e;Rs(v),_t(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&ya(v),!N(p))for(z=v.Ba.g.parse(p),p=0;p<z.length;p++){let He=z[p];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const On=He[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Si=He[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const Xn=He[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Cs=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var G=A.h;G.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Vo(G,G.h),G.h=null))}if(A.G){const _a=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;_a&&(A.wa=_a,Qe(A.J,A.G,_a))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var re=c;if(A.na=ju(A,A.L?A.ba:null,A.W),re.L){Mo(A.h,re);var be=re,dt=A.O;dt&&(be.H=dt),be.D&&(fi(be),hi(be)),A.g=re}else Lu(A);v.i.length>0&&Ei(v)}else He[0]!="stop"&&He[0]!="close"||Ti(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ti(v,7):Ho(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ai(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function Oo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Vo(c,p){c.g?c.g.add(p):c.h=p}function Mo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Oo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return V(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let z,G=null;A>=0?(z=c[v].substring(0,A),G=c[v].substring(A+1)):z=c[v],p(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof gn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.u),this.h=c.h,Po(this,Vu(c.i)),this.m=c.m):c&&(p=String(c).match(Nu))?(this.l=!1,Pt(this,p[1]||"",!0),this.o=gi(p[2]||""),this.g=gi(p[3]||"",!0),pr(this,p[4]),this.h=gi(p[5]||"",!0),Po(this,p[6]||"",!0),this.m=gi(p[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}gn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Es(p,ha,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Es(p,ha,!0),"@"),c.push(ki(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?Uo:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,Ou)),c.join("")},gn.prototype.resolve=function(c){const p=Tt(this);let v=!!c.j;v?Pt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var A=c.h;if(v)pr(p,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var z=p.h.lastIndexOf("/");z!=-1&&(A=p.h.slice(0,z+1)+A)}if(z=A,z==".."||z==".")A="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){A=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const be=z[re++];be=="."?A&&re==z.length&&G.push(""):be==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&re==z.length&&G.push("")):(G.push(be),A=!0)}A=G.join("/")}else A=z}return v?p.h=A:v=c.i.toString()!=="",v?Po(p,Vu(c.i)):v=!!c.m,v&&(p.m=c.m),p};function Tt(c){return new gn(c)}function Pt(c,p,v){c.j=v?gi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Po(c,p,v){p instanceof yr?(c.i=p,da(c.i,c.l)):(v||(p=Es(p,gr)),c.i=new yr(p,c.l))}function Qe(c,p,v){c.i.set(p,v)}function vs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Du=/[#\?:]/g,Uo=/[#\?]/g,gr=/[#\?@]/g,Ou=/#/g;function yr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ca(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=yr.prototype,r.add=function(c,p){on(this),this.i=null,c=_r(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function xu(c,p){on(c),p=_r(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ko(c,p){return on(c),p=_r(c,p),c.g.has(p)}r.forEach=function(c,p){on(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(p,z,A,this)},this)},this)};function zo(c,p){on(c);let v=[];if(typeof p=="string")ko(c,p)&&(v=v.concat(c.g.get(_r(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}r.set=function(c,p){return on(this),this.i=null,c=_r(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=zo(this,c),c.length>0?String(c[0]):p):p};function fa(c,p,v){xu(c,p),v.length>0&&(c.i=null,c.g.set(_r(c,p),V(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var v=p[A];const z=ki(v);v=zo(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+ki(v[G])),c.push(re)}}return this.i=c.join("&")};function Vu(c){const p=new yr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function _r(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function da(c,p){p&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const z=A.toLowerCase();A!=z&&(xu(this,A),fa(this,z,v))},c)),c.j=p}function Qn(c,p){const v=new Hn;if(f.Image){const A=new Image;A.onload=E(Nn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=E(Nn,v,"TestLoadImage: error",!1,p,A),A.onabort=E(Nn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function jo(c,p){const v=new Hn,A=new AbortController,z=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(z),G.ok?Nn(v,"TestPingServer: ok",!0,p):Nn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,p)})}function Nn(c,p,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function vr(){this.g=new Eu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,Tu),yi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,p){yt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ts,yt),r=Ts.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Kn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ma(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ma(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Er(this):Kn(this),this.readyState==3&&ma(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Kn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Kn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let p="";return je(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Ss(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&ki(v):Qe(c,p,v))}function Xe(c){yt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Xe,yt);var _i=/^https?$/i,Bo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Do.g(),this.g.onreadystatechange=R(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){As(this,G);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())v.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Bo,p,void 0)>=0)||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){As(this,G)}};function As(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,qo(c),zi(c)}function qo(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xt(this,"complete"),xt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(xt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=G===0){let re=String(c.D).match(Nu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!_i.test(re?re.toLowerCase():"")}v=A}if(v)xt(c,"complete"),xt(c,"success");else{c.o=6;try{var z=Yn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",qo(c)}}finally{zi(c)}}}}function zi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||xt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),uf(p)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Ru(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=p[z]||[];p[z]=G,G.push(v)}Ge(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function Tr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Oo(c&&c.concurrentRequestLimit),this.Ba=new vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Tr.prototype,r.ka=8,r.I=1,r.connect=function(c,p,v,A){_t(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=ju(this,null,this.W),Ei(this)};function Ho(c){if(pa(c),c.I==3){var p=c.V++,v=Tt(c.J);if(Qe(v,"SID",c.M),Qe(v,"RID",p),Qe(v,"TYPE","terminate"),bs(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=vs(Tt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Bu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),hi(p)}zu(c)}function Sr(c){c.g&&(Go(c),c.g.cancel(),c.g=null)}function pa(c){Sr(c),c.v&&(f.clearTimeout(c.v),c.v=null),ya(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!xo(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ae||b(),we||(Ae(),we=!0),C.add(p,c),c.D=0}}function ga(c,p){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,p),ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Fn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=M(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Mu(this,z,p),v=Tt(this.J),Qe(v,"RID",c),Qe(v,"CVER",22),this.G&&Qe(v,"X-HTTP-Session-Id",this.G),bs(this,v),G&&(this.R?p="headers="+ki(Dn(G))+"&"+p:this.u&&Ss(v,this.u,G)),Vo(this.h,z),this.Ra&&Qe(v,"TYPE","init"),this.S?(Qe(v,"$req",p),Qe(v,"SID","null"),z.U=!0,ci(z,v,null)):ci(z,v,p),this.I=2}}else this.I==3&&(c?Fo(this,c):this.i.length==0||xo(this.h)||Fo(this))};function Fo(c,p){var v;p?v=p.l:v=c.V++;const A=Tt(c.J);Qe(A,"SID",c.M),Qe(A,"RID",v),Qe(A,"AID",c.K),bs(c,A),c.u&&c.o&&Ss(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Vo(c.h,v),ci(v,A,p)}function bs(c,p){c.H&&je(c.H,function(v,A){Qe(p,A,v)}),c.l&&je({},function(v,A){Qe(p,A,v)})}function Mu(c,p,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;e:{var z=c.i;let be=-1;for(;;){const dt=["count="+v];be==-1?v>0?(be=z[0].g,dt.push("ofs="+be)):be=0:dt.push("ofs="+be);let He=!0;for(let at=0;at<v;at++){var G=z[at].g;const On=z[at].map;if(G-=be,G<0)be=Math.max(0,z[at].g-100),He=!1;else try{G="req"+G+"_"||"";try{var re=On instanceof Map?On:Object.entries(On);for(const[Si,Xn]of re){let $n=Xn;m(Xn)&&($n=mr(Xn)),dt.push(G+Si+"="+encodeURIComponent($n))}}catch(Si){throw dt.push(G+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(On)}}if(He){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),p.G=c,re}function Lu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ae||b(),we||(Ae(),we=!0),C.add(p,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),Sr(this),Pu(this))};function Go(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Tt(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),bs(c,p),c.u&&c.o&&Ss(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(Tt(p)),v.u=null,v.R=!0,la(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Sr(this),Rs(this),_t(19))};function ya(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,p){var v=null;if(c.g==p){ya(c),Go(c),c.g=null;var A=2}else if(pi(c.h,p))v=p.G,Mo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var z=c.D;A=oa(),xt(A,new oi(A,v)),Ei(c)}else Lu(c);else if(z=p.m,z==3||z==0&&p.X>0||!(A==1&&ga(c,p)||A==2&&Rs(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),z){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ku(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ti(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),A=c.Ua;const z=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),vs(A),z?Qn(A.toString(),v):jo(A.toString(),v)}else _t(2);c.I=0,c.l&&c.l.pa(p),zu(c),pa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const p=Lo(c.h);(p.length!=0||c.i.length!=0)&&(K(c.ja,p),K(c.ja,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.oa()}}function ju(c,p,v){var A=v instanceof gn?Tt(v):new gn(v);if(A.g!="")p&&(A.g=p+"."+A.g),pr(A,A.u);else{var z=f.location;A=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;const G=new gn(null);A&&Pt(G,A),p&&(G.g=p),z&&pr(G,z),v&&(G.h=v),A=G}return v=c.G,p=c.wa,v&&p&&Qe(A,v,p),Qe(A,"VER",c.ka),bs(c,A),A}function Bu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Xe(new yi({ab:v})):new Xe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ar(){}Ar.prototype.g=function(c,p){return new tn(c,p)};function tn(c,p){yt.call(this),this.g=new Tr(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!N(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!N(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Bi(this)}T(tn,yt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Ho(this.g)},tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=mr(c),c=v);p.i.push(new Et(p.Ya++,c)),p.I==3&&Ei(p)},tn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,tn.Z.N.call(this)};function Hu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Hu,Bt);function Fu(){Cn.call(this),this.status=1}T(Fu,Cn);function Bi(c){this.g=c}T(Bi,qu),Bi.prototype.ra=function(){xt(this.g,"a")},Bi.prototype.qa=function(c){xt(this.g,new Hu(c))},Bi.prototype.pa=function(c){xt(this.g,new Fu)},Bi.prototype.oa=function(){xt(this.g,"b")},Ar.prototype.createWebChannel=Ar.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,V0=function(){return new Ar},x0=function(){return oa()},O0=ft,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,oh=ys,No.COMPLETE="complete",D0=No,Su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",yt.prototype.listen=yt.prototype.J,xl=Su,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,N0=Xe}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",_E="4.9.3";class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let _o="12.7.0";const $s=new up("@firebase/firestore");function Ya(){return $s.logLevel}function le(r,...e){if($s.logLevel<=Ve.DEBUG){const n=e.map(Sp);$s.debug(`Firestore (${_o}): ${r}`,...n)}}function cr(r,...e){if($s.logLevel<=Ve.ERROR){const n=e.map(Sp);$s.error(`Firestore (${_o}): ${r}`,...n)}}function ao(r,...e){if($s.logLevel<=Ve.WARN){const n=e.map(Sp);$s.warn(`Firestore (${_o}): ${r}`,...n)}}function Sp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function pe(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,M0(r,s,n)}function M0(r,e,n){let s=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function ze(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||M0(e,o,s)}function Ee(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class L0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class p2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class g2{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ni,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ni)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string",31837,{l:s}),new L0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class y2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new y2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class v2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function E2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=E2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Me(r,e){return r<e?-1:r>e?1:0}function km(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Sm(o)===Sm(u)?Me(o,u):Sm(o)?1:-1}return Me(r.length,e.length)}const T2=55296,S2=57343;function Sm(r){const e=r.charCodeAt(0);return e>=T2&&e<=S2}function oo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const EE="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&pe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Me(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class We extends Ci{construct(e,n,s){return new We(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new se(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new We(n)}static emptyPath(){return new We([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ci{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new Yt([EE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new se(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new se(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(We.fromString(e))}static fromName(e){return new fe(We.fromString(e).popFirst(5))}static empty(){return new fe(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new We(e.slice()))}}function P0(r,e,n){if(!n)throw new se(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function w2(r,e,n,s){if(e===!0&&s===!0)throw new se(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TE(r){if(!fe.isDocumentKey(r))throw new se(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function SE(r){if(fe.isDocumentKey(r))throw new se(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":pe(12329,{type:typeof r})}function is(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new se(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new se(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function hu(r,e){if(!U0(r))throw new se(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new se(J.INVALID_ARGUMENT,n);return!0}const AE=-62135596800,wE=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*wE);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<AE)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(hu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:It("string",it._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};class ye{static fromTimestamp(e){return new ye(e)}static min(){return new ye(new it(0,0))}static max(){return new ye(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ql=-1;function b2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=ye.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new rs(o,fe.empty(),e)}function R2(r){return new rs(r.readTime,r.key,Ql)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(ye.min(),fe.empty(),Ql)}static max(){return new rs(ye.max(),fe.empty(),Ql)}}function C2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=fe.comparator(r.documentKey,e.documentKey),n!==0?n:Me(r.largestBatchId,e.largestBatchId))}const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==I2)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((E=>{f[y]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function D2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bh.ce=-1;const wp=-1;function fu(r){return r==null}function Sh(r){return r===0&&1/r==-1/0}function O2(r){return typeof r=="number"&&Number.isInteger(r)&&!Sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const k0="";function x2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=bE(e)),e=V2(r.get(n),e);return bE(e)}function V2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case k0:n+="";break;default:n+=u}}return n}function bE(r){return r+k0+""}function RE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function z0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class j0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new j0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const n=M2.exec(r);if(ze(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}const B0="server_timestamp",q0="__type__",H0="__previous_value__",F0="__local_write_time__";function bp(r){return(r?.mapValue?.fields||{})[q0]?.stringValue===B0}function qh(r){const e=r.mapValue.fields[H0];return bp(e)?qh(e):e}function Kl(r){const e=ss(r.mapValue.fields[F0].timestampValue);return new it(e.seconds,e.nanos)}class L2{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Ah="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||Ah}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===Ah}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}const G0="__type__",P2="__max__",Zc={mapValue:{}},Q0="__vector__",wh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?bp(r)?4:k2(r)?9007199254740991:U2(r)?10:11:pe(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Sh(f)===Sh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(RE(f)!==RE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Li(f[g],m[g])))return!1;return!0})(r,e);default:return pe(52216,{left:r})}}function Xl(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function lo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Me(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return IE(r.timestampValue,e.timestampValue);case 4:return IE(Kl(r),Kl(e));case 5:return km(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),g=as(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Me(m[y],g[y]);if(E!==0)return E}return Me(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Me(gt(u.latitude),gt(f.latitude));return m!==0?m:Me(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return NE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},g=f.fields||{},y=m[wh]?.arrayValue,E=g[wh]?.arrayValue,T=Me(y?.values?.length||0,E?.values?.length||0);return T!==0?T:NE(y,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let T=0;T<g.length&&T<E.length;++T){const R=km(g[T],E[T]);if(R!==0)return R;const V=lo(m[g[T]],y[E[T]]);if(V!==0)return V}return Me(g.length,E.length)})(r.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function IE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Me(r,e);const n=ss(r),s=ss(e),o=Me(n.seconds,s.seconds);return o!==0?o:Me(n.nanos,s.nanos)}function NE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Me(n.length,s.length)}function uo(r){return zm(r)}function zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return fe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"})(r.mapValue):pe(61005,{value:r})}function lh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return cs(s.fields,((u,f)=>{o+=u.length+lh(f)})),o})(r.mapValue);default:throw pe(13486,{value:r})}}function DE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function Rp(r){return!!r&&"arrayValue"in r}function OE(r){return!!r&&"nullValue"in r}function xE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function U2(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===Q0}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=kl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(r.arrayValue.values[n]);return e}return{...r}}function k2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P2}class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new rn(kl(this.value))}}function K0(r){const e=[];return cs(r.fields,((n,s)=>{const o=new Yt([n]);if(uh(s)){const u=K0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new bn(e)}class zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,ye.min(),ye.min(),ye.min(),rn.empty(),0)}static newFoundDocument(e,n,s,o){return new zt(e,1,n,ye.min(),s,o,0)}static newNoDocument(e,n){return new zt(e,2,n,ye.min(),ye.min(),rn.empty(),0)}static newUnknownDocument(e,n){return new zt(e,3,n,ye.min(),ye.min(),rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bh{constructor(e,n){this.position=e,this.inclusive=n}}function VE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=fe.comparator(fe.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function z2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class Y0{}class Ct extends Y0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B2(e,n,s):n==="array-contains"?new F2(e,s):n==="in"?new G2(e,s):n==="not-in"?new Q2(e,s):n==="array-contains-any"?new K2(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new q2(e,s):new H2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(lo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Y0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return X0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function X0(r){return r.op==="and"}function $0(r){return j2(r)&&X0(r)}function j2(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Bm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+uo(r.value);if($0(r))return r.filters.map((e=>Bm(e))).join(",");{const e=r.filters.map((n=>Bm(n))).join(",");return`${r.op}(${e})`}}function J0(r,e){return r instanceof Ct?(function(s,o){return o instanceof Ct&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&J0(f,o.filters[m])),!0):!1})(r,e):void pe(19439)}function Z0(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(Z0).join(" ,")+"}"})(r):"Filter"}class B2 extends Ct{constructor(e,n,s){super(e,n,s),this.key=fe.fromName(s.referenceValue)}matches(e){const n=fe.comparator(e.key,this.key);return this.matchesComparison(n)}}class q2 extends Ct{constructor(e,n){super(e,"in",n),this.keys=W0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H2 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=W0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function W0(r,e){return(e.arrayValue?.values||[]).map((n=>fe.fromName(n.referenceValue)))}class F2 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&Xl(n.arrayValue,this.value)}}class G2 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class Q2 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class K2 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xl(this.value.arrayValue,s)))}}class Y2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function LE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Y2(r,e,n,s,o,u,f)}function Cp(r){const e=Ee(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Bm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),fu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>uo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>uo(s))).join(",")),e.Te=n}return e.Te}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!z2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!J0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function qm(r){return fe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class To{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X2(r,e,n,s,o,u,f,m){return new To(r,e,n,s,o,u,f,m)}function Np(r){return new To(r)}function PE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eS(r){return r.collectionGroup!==null}function zl(r){const e=Ee(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $l(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new $l(Yt.keyField(),s))}return e.Ie}function Di(r){const e=Ee(r);return e.Ee||(e.Ee=$2(e,zl(r))),e.Ee}function $2(r,e){if(r.limitType==="F")return LE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)}));const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return LE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Hm(r,e){const n=r.filters.concat([e]);return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Fm(r,e,n){return new To(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return Ip(Di(r),Di(e))&&r.limitType===e.limitType}function tS(r){return`${Cp(Di(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Z0(o))).join(", ")}]`),fu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>uo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>uo(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Fh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):fe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,g){const y=VE(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,zl(s),o)||s.endAt&&!(function(f,m,g){const y=VE(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,zl(s),o))})(r,e)}function J2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nS(r){return(e,n)=>{let s=!1;for(const o of zl(r)){const u=Z2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Z2(r,e,n){const s=r.field.isKeyField()?fe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?lo(g,y):pe(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return pe(19790,{direction:r.dir})}}class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return z0(this.inner)}size(){return this.innerSize}}const W2=new ut(fe.comparator);function hr(){return W2}const iS=new ut(fe.comparator);function Vl(...r){let e=iS;for(const n of r)e=e.insert(n.key,n);return e}function rS(r){let e=iS;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return jl()}function sS(){return jl()}function jl(){return new Ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const eN=new ut(fe.comparator),tN=new Mt(fe.comparator);function Le(...r){let e=tN;for(const n of r)e=e.add(n);return e}const nN=new Mt(Me);function iN(){return nN}function Dp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function aS(r){return{integerValue:""+r}}function rN(r,e){return O2(e)?aS(e):Dp(r,e)}class Gh{constructor(){this._=void 0}}function sN(r,e,n){return r instanceof Jl?(function(o,u){const f={fields:{[q0]:{stringValue:B0},[F0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&bp(u)&&(u=qh(u)),u&&(f.fields[H0]=u),{mapValue:f}})(n,e):r instanceof Zl?lS(r,e):r instanceof Wl?uS(r,e):(function(o,u){const f=oS(o,u),m=UE(f)+UE(o.Ae);return jm(f)&&jm(o.Ae)?aS(m):Dp(o.serializer,m)})(r,e)}function aN(r,e,n){return r instanceof Zl?lS(r,e):r instanceof Wl?uS(r,e):n}function oS(r,e){return r instanceof Rh?(function(s){return jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Jl extends Gh{}class Zl extends Gh{constructor(e){super(),this.elements=e}}function lS(r,e){const n=cS(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Gh{constructor(e){super(),this.elements=e}}function uS(r,e){let n=cS(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Rh extends Gh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function UE(r){return gt(r.integerValue||r.doubleValue)}function cS(r){return Rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class oN{constructor(e,n){this.field=e,this.transform=n}}function lN(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Wl&&o instanceof Wl?oo(s.elements,o.elements,Li):s instanceof Rh&&o instanceof Rh?Li(s.Ae,o.Ae):s instanceof Jl&&o instanceof Jl})(r.transform,e.transform)}class uN{constructor(e,n){this.version=e,this.transformResults=n}}class sn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function hS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kh(r.key,sn.none()):new du(r.key,r.data,sn.none());{const n=r.data,s=rn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new hs(r.key,s,new bn(o.toArray()),sn.none())}}function cN(r,e,n){r instanceof du?(function(o,u,f){const m=o.value.clone(),g=zE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof hs?(function(o,u,f){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=zE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(fS(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Bl(r,e,n,s){return r instanceof du?(function(u,f,m,g){if(!ch(u.precondition,f))return m;const y=u.value.clone(),E=jE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof hs?(function(u,f,m,g){if(!ch(u.precondition,f))return m;const y=jE(u.fieldTransforms,g,f),E=f.data;return E.setAll(fS(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return ch(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function hN(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=oS(s.transform,o||null);u!=null&&(n===null&&(n=rn.empty()),n.set(s.field,u))}return n||null}function kE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,((u,f)=>lN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class du extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function fS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function zE(r,e,n){const s=new Map;ze(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,aN(f,m,n[o]))}return s}function jE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,sN(u,f,e))}return s}class Kh extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dS extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sS();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=hS(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(ye.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,((n,s)=>kE(n,s)))&&oo(this.baseMutations,e.baseMutations,((n,s)=>kE(n,s)))}}class Op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ze(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return eN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Op(e,n,s,o)}}class dN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class mN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,ke;function mS(r){switch(r){case J.OK:return pe(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pe(15467,{code:r})}}function pS(r){if(r===void 0)return cr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Rt.OK:return J.OK;case Rt.CANCELLED:return J.CANCELLED;case Rt.UNKNOWN:return J.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return J.INTERNAL;case Rt.UNAVAILABLE:return J.UNAVAILABLE;case Rt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Rt.NOT_FOUND:return J.NOT_FOUND;case Rt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Rt.ABORTED:return J.ABORTED;case Rt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Rt.DATA_LOSS:return J.DATA_LOSS;default:return pe(39323,{code:r})}}(ke=Rt||(Rt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function pN(){return new TextEncoder}const gN=new es([4294967295,4294967295],0);function BE(r){const e=pN().encode(r),n=new I0;return n.update(e),new Uint8Array(n.digest())}function qE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(s<0)throw new Ml(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(gN)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=BE(e),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new xp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=BE(e),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(ye.min(),o,new ut(Me),hr(),Le())}}class mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new mu(s,n,Le(),Le(),Le())}}class hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gS{constructor(e,n){this.targetId=e,this.Ce=n}}class yS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class HE{constructor(){this.ve=0,this.Fe=FE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:pe(38017,{changeType:u})}})),new mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=FE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yN{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(qm(u))if(s===0){const f=new fe(u.path);this.et(n,f,zt.newNoDocument(f,ye.min()))}else ze(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof j0)return ao("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new xp(f,o,u)}catch(g){return ao(g instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&qm(m.target)){const g=new fe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Yh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=Wc(),this.He=Wc(),this.Ye=new ut(Me),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new HE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new ut(fe.comparator)}function FE(){return new ut(fe.comparator)}const _N={asc:"ASCENDING",desc:"DESCENDING"},vN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EN={and:"AND",or:"OR"};class TN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(r,e){return r.useProto3Json||fu(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _S(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SN(r,e){return Ch(r,e.toTimestamp())}function Rn(r){return ze(!!r,49232),ye.fromTimestamp((function(n){const s=ss(n);return new it(s.seconds,s.nanos)})(r))}function Vp(r,e){return Qm(r,e).canonicalString()}function Qm(r,e){const n=(function(o){return new We(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vS(r){const e=We.fromString(r);return ze(bS(e),10190,{key:e.toString()}),e}function Ih(r,e){return Vp(r.databaseId,e.path)}function ql(r,e){const n=vS(e);if(n.get(1)!==r.databaseId.projectId)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new se(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new fe(TS(n))}function ES(r,e){return Vp(r.databaseId,e)}function AN(r){const e=vS(r);return e.length===4?We.emptyPath():TS(e)}function Km(r){return new We(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TS(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function GE(r,e,n){return{name:Ih(r,e),fields:n.value.mapValue.fields}}function wN(r,e){return"found"in e?(function(s,o){ze(!!o.found,43571),o.found.name,o.found.updateTime;const u=ql(s,o.found.name),f=Rn(o.found.updateTime),m=o.found.createTime?Rn(o.found.createTime):ye.min(),g=new rn({mapValue:{fields:o.found.fields}});return zt.newFoundDocument(u,f,m,g)})(r,e):"missing"in e?(function(s,o){ze(!!o.missing,3894),ze(!!o.readTime,22933);const u=ql(s,o.missing),f=Rn(o.readTime);return zt.newNoDocument(u,f)})(r,e):pe(7234,{result:e})}function bN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(ze(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(ze(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?J.UNKNOWN:pS(y.code);return new se(E,y.message||"")})(f);n=new yS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ql(r,s.document.name),u=Rn(s.document.updateTime),f=s.document.createTime?Rn(s.document.createTime):ye.min(),m=new rn({mapValue:{fields:s.document.fields}}),g=zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new hh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ql(r,s.document),u=s.readTime?Rn(s.readTime):ye.min(),f=zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new hh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ql(r,s.document),u=s.removedTargetIds||[];n=new hh([],u,o,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mN(o,u),m=s.targetId;n=new gS(m,f)}}return n}function SS(r,e){let n;if(e instanceof du)n={update:GE(r,e.key,e.value)};else if(e instanceof Kh)n={delete:Ih(r,e.key)};else if(e instanceof hs)n={update:GE(r,e.key,e.data),updateMask:MN(e.fieldMask)};else{if(!(e instanceof dS))return pe(16599,{Vt:e.type});n={verify:Ih(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw pe(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:SN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:pe(27497)})(r,e.precondition)),n}function RN(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Rn(o.updateTime):Rn(u);return f.isEqual(ye.min())&&(f=Rn(u)),new uN(f,o.transformResults||[])})(n,e)))):[]}function CN(r,e){return{documents:[ES(r,e.path)]}}function IN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ES(r,o);const u=(function(y){if(y.length!==0)return wS(ri.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(R){return{field:$a(R.field),direction:ON(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Gm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function NN(r){let e=AN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ze(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const R=AS(T);return R instanceof ri&&$0(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((R=>(function(K){return new $l(Ja(K.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let R;return R=typeof T=="object"?T.value:T,fu(R)?null:R})(n.limit));let g=null;n.startAt&&(g=(function(T){const R=!!T.before,V=T.values||[];return new bh(V,R)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const R=!T.before,V=T.values||[];return new bh(V,R)})(n.endAt)),X2(e,o,f,u,m,"F",g,y)}function DN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(Ja(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>AS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(n.compositeFilter.op))})(r):pe(30097,{filter:r})}function ON(r){return _N[r]}function xN(r){return vN[r]}function VN(r){return EN[r]}function $a(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Yt.fromServerFormat(r.fieldPath)}function wS(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(xE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:$a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(n.field),op:xN(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>wS(o)));return s.length===1?s[0]:{compositeFilter:{op:VN(n.op),filters:s}}})(r):pe(54877,{filter:r})}function MN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class $r{constructor(e,n,s,o,u=ye.min(),f=ye.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class LN{constructor(e){this.yt=e}}function PN(r){const e=NN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Fm(e,e.limit,"L"):e}class UN{constructor(){this.Cn=new kN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(rs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class kN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(We.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(We.comparator)).toArray()}}const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(RS,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class co{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const KE="LruGarbageCollector",zN=1048576;function YE([r,e],[n,s]){const o=Me(r,n);return o===0?Me(e,s):o}class jN{constructor(e){this.Ir=e,this.buffer=new Mt(YE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();YE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(KE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?le(KE,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class qN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Bh.ce);const s=new jN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(QE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Ya()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function HN(r,e){return new qN(r,e)}class FN{constructor(){this.changes=new Ws((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class QN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Bl(s.mutation,o,bn.empty(),it.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Vl();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=hr();const f=jl(),m=(function(){return jl()})();return n.forEach(((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof hs)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Bl(E.mutation,y,E.mutation.getFieldMask(),it.now())):f.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>m.set(y,new GN(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new ut(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||bn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const T=(o.get(m.batchId)||Le()).add(g);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,T=sS();E.forEach((R=>{if(!u.has(R)){const V=hS(n.get(R),s.get(R));V!==null&&T.set(R,V),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return fe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Gs());let m=Ql,g=u;return f.next((y=>ne.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{g=g.insert(E,R)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Le()))).next((E=>({batchId:m,changes:rS(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fe(n)).next((s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(g=>{const y=(function(T,R){return new To(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((E=>{E.forEach(((T,R)=>{f=f.insert(T,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,zt.newInvalidDocument(E)))}));let m=Vl();return f.forEach(((g,y)=>{const E=u.get(g);E!==void 0&&Bl(E.mutation,y,bn.empty(),it.now()),Fh(n,y)&&(m=m.insert(g,y))})),m}))}}class KN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Rn(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:PN(o.bundledQuery),readTime:Rn(o.readTime)}})(n)),ne.resolve()}}class YN{constructor(){this.overlays=new ut(fe.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Gs(),u=n.length+1,f=new fe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Gs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dN(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class XN{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class Mp{constructor(){this.Qr=new Mt(kt.$r),this.Ur=new Mt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new fe(new We([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fe(new We([])),s=new kt(n,e),o=new kt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fe.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||fe.comparator(e.key,n.key)}}class $N{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fN(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Me);return n.forEach((o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;fe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new fe(u),0);let m=new Mt(Me);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class JN{constructor(e){this.ri=e,this.docs=(function(){return new ut(fe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():zt.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new fe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||C2(R2(E),s)<=0||(o.has(E.key)||Fh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){pe(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new ZN(this)}getSize(e){return ne.resolve(this.size)}}class ZN extends FN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class WN{constructor(e){this.persistence=e,this.si=new Ws((n=>Cp(n)),Ip),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=co.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new co(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class CS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Bh(0),this.li=!1,this.li=!0,this.hi=new XN,this.referenceDelegate=e(this),this.Pi=new WN(this),this.indexManager=new UN,this.remoteDocumentCache=(function(o){return new JN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new LN(n),this.Ii=new KN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new $N(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new eD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class eD extends N2{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=fe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,ye.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Nh{constructor(e,n){this.persistence=e,this.pi=new Ws((s=>x2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=HN(this,n)}static mi(e,n){return new Nh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,ye.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,n.fromCache,s,o)}}class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class nD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kb()?8:D2(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new tD;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ya()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ya()<=Ve.DEBUG&&le("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ya()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ne.resolve())}ys(e,n){if(PE(n))return ne.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Fm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Fm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return PE(n)||o.isEqual(ye.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Ya()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.vs(e,f,n,b2(o,Ql)).next((m=>m)))}))}Ds(e,n){let s=new Mt(nS(e));return n.forEach(((o,u)=>{Fh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ya()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Up="LocalStore",iD=3e8;class rD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Me),this.xs=new Ws((u=>Cp(u)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function sD(r,e,n,s){return new rD(r,e,n,s)}async function IS(r,e){const n=Ee(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=Le();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function aD(r,e){const n=Ee(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,E){const T=y.batch,R=T.keys();let V=ne.resolve();return R.forEach((K=>{V=V.next((()=>E.getEntry(g,K))).next((F=>{const k=y.docVersions.get(K);ze(k!==null,48541),F.version.compareTo(k)<0&&(T.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))}))})),V.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Le();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function NS(r){const e=Ee(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oD(r,e){const n=Ee(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const R=o.get(T);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Xt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(T,V),(function(F,k,Y){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=iD?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(R,V,E)&&m.push(n.Pi.updateTargetData(u,V))}));let g=hr(),y=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(lD(u,f,e.documentUpdates).next((E=>{g=E.ks,y=E.qs}))),!s.isEqual(ye.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ne.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function lD(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(ye.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Up,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function uD(r,e){const n=Ee(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function cD(r,e){const n=Ee(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ym(r,e,n){const s=Ee(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;le(Up,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function XE(r,e,n){const s=Ee(r);let o=ye.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,E){const T=Ee(g),R=T.xs.get(E);return R!==void 0?ne.resolve(T.Ms.get(R)):T.Pi.getTargetData(y,E)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:ye.min(),n?u:Le()))).next((m=>(hD(s,J2(e),m),{documents:m,Qs:u})))))}function hD(r,e,n){let s=r.Os.get(e)||ye.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class $E{constructor(){this.activeTargetIds=iN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fD{constructor(){this.Mo=new $E,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $E,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dD{Oo(e){}shutdown(){}}const JE="ConnectivityMonitor";class ZE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(JE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let eh=null;function Xm(){return eh===null?eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():eh++,"0x"+eh.toString(16)}const Am="RestConnection",mD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Xm(),m=this.zo(e,n.toUriEncodedString());le(Am,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=po(y);return this.Jo(e,m,g,s,E).then((T=>(le(Am,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw ao(Am,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=mD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class gD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class yD extends pD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Xm();return new Promise(((m,g)=>{const y=new N0;y.setWithCredentials(!0),y.listenOnce(D0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case oh.NO_ERROR:const T=y.getResponseJson();le(Jt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case oh.TIMEOUT:le(Jt,`RPC '${e}' ${f} timed out`),g(new se(J.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const R=y.getStatus();if(le(Jt,`RPC '${e}' ${f} failed with status:`,R,"response text:",y.getResponseText()),R>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const K=V?.error;if(K&&K.status&&K.message){const F=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(W)>=0?W:J.UNKNOWN})(K.status);g(new se(F,K.message))}else g(new se(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new se(J.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Jt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=Xm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=V0(),m=x0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const T=f.createWebChannel(E,g);this.I_(T);let R=!1,V=!1;const K=new gD({Yo:k=>{V?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Zo:()=>T.close()}),F=(k,Y,W)=>{k.listen(Y,(ie=>{try{W(ie)}catch(Te){setTimeout((()=>{throw Te}),0)}}))};return F(T,xl.EventType.OPEN,(()=>{V||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),K.o_())})),F(T,xl.EventType.CLOSE,(()=>{V||(V=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),K.a_(),this.E_(T))})),F(T,xl.EventType.ERROR,(k=>{V||(V=!0,ao(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),K.a_(new se(J.UNAVAILABLE,"The operation could not be completed")))})),F(T,xl.EventType.MESSAGE,(k=>{if(!V){const Y=k.data[0];ze(!!Y,16349);const W=Y,ie=W?.error||W[0]?.error;if(ie){le(Jt,`RPC '${e}' stream ${o} received error:`,ie);const Te=ie.status;let Ae=(function(b){const I=Rt[b];if(I!==void 0)return pS(I)})(Te),we=ie.message;Ae===void 0&&(Ae=J.INTERNAL,we="Unknown error status: "+Te+" with message "+ie.message),V=!0,K.a_(new se(Ae,we)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,Y),K.u_(Y)}})),F(m,O0.STAT_EVENT,(k=>{k.stat===Um.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Um.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function wm(){return typeof document<"u"?document:null}function Xh(r){return new TN(r,!0)}class kp{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WE="PersistentStream";class DS{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kp(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new se(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(WE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(WE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _D extends DS{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return ye.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?ye.min():f.readTime?Rn(f.readTime):ye.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Km(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=qm(g)?{documents:CN(u,g)}:{query:IN(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_S(u,f.resumeToken);const y=Gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(ye.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const y=Gm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=DN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.q_(n)}}class vD extends DS{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RN(e.writeResults,e.commitTime),s=Rn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Km(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>SS(this.serializer,s)))};this.q_(n)}}class ED{}class TD extends ED{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Qm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new se(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Qm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Js="RemoteStore";class AD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ea(this)&&(le(Js,"Restarting streams for network reachability change."),await(async function(g){const y=Ee(g);y.Ea.add(4),await pu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await $h(y)})(this))}))})),this.Ra=new SD(s,o)}}async function $h(r){if(ea(r))for(const e of r.da)await e(!0)}async function pu(r){for(const e of r.da)await e(!1)}function OS(r,e){const n=Ee(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qp(n)?Bp(n):So(n).O_()&&jp(n,e))}function zp(r,e){const n=Ee(r),s=So(n);n.Ia.delete(e),s.O_()&&xS(n,e),n.Ia.size===0&&(s.O_()?s.L_():ea(n)&&n.Ra.set("Unknown"))}function jp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(r).Y_(e)}function xS(r,e){r.Va.Ue(e),So(r).Z_(e)}function Bp(r){r.Va=new yN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),So(r).start(),r.Ra.ua()}function qp(r){return ea(r)&&!So(r).x_()&&r.Ia.size>0}function ea(r){return Ee(r).Ea.size===0}function VS(r){r.Va=void 0}async function wD(r){r.Ra.set("Online")}async function bD(r){r.Ia.forEach(((e,n)=>{jp(r,e)}))}async function RD(r,e){VS(r),qp(r)?(r.Ra.ha(e),Bp(r)):r.Ra.set("Unknown")}async function CD(r,e,n){if(r.Ra.set("Online"),e instanceof yS&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof gS?r.Va.st(e):r.Va.tt(e),!n.isEqual(ye.min()))try{const s=await NS(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),xS(u,g);const T=new $r(E.target,g,y,E.sequenceNumber);jp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(Js,"Failed to raise snapshot:",s),await Dh(r,s)}}async function Dh(r,e,n){if(!Eo(e))throw e;r.Ea.add(1),await pu(r),r.Ra.set("Offline"),n||(n=()=>NS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(Js,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function MS(r,e){return e().catch((n=>Dh(r,n,e)))}async function Jh(r){const e=Ee(r),n=ls(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;ID(e);)try{const o=await uD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,ND(e,o)}catch(o){await Dh(e,o)}LS(e)&&PS(e)}function ID(r){return ea(r)&&r.Ta.length<10}function ND(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function LS(r){return ea(r)&&!ls(r).x_()&&r.Ta.length>0}function PS(r){ls(r).start()}async function DD(r){ls(r).ra()}async function OD(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function xD(r,e,n){const s=r.Ta.shift(),o=Op.from(s,e,n);await MS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jh(r)}async function VD(r,e){e&&ls(r).X_&&await(async function(s,o){if((function(f){return mS(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ls(s).B_(),await MS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jh(s)}})(r,e),LS(r)&&PS(r)}async function eT(r,e){const n=Ee(r);n.asyncQueue.verifyOperationInProgress(),le(Js,"RemoteStore received new credentials");const s=ea(n);n.Ea.add(3),await pu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $h(n)}async function MD(r,e){const n=Ee(r);e?(n.Ea.delete(2),await $h(n)):e||(n.Ea.add(2),await pu(n),n.Ra.set("Unknown"))}function So(r){return r.ma||(r.ma=(function(n,s,o){const u=Ee(n);return u.sa(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:wD.bind(null,r),t_:bD.bind(null,r),r_:RD.bind(null,r),H_:CD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qp(r)?Bp(r):r.Ra.set("Unknown")):(await r.ma.stop(),VS(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,s,o){const u=Ee(n);return u.sa(),new vD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:DD.bind(null,r),r_:VD.bind(null,r),ta:OD.bind(null,r),na:xD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(le(Js,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Hp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),Eo(r))return new se(J.UNAVAILABLE,`${e}: ${r}`);throw r}class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||fe.comparator(n.key,s.key):(n,s)=>fe.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new no;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class tT{constructor(){this.ga=new ut(fe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class ho{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new ho(e,n,no.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class LD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class PD{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ee(n),u=o.queries;o.queries=nT(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new se(J.ABORTED,"Firestore shutting down"))}}function nT(){return new Ws((r=>tS(r)),Hh)}async function US(r,e){const n=Ee(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new LD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Fp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function kS(r,e){const n=Ee(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UD(r,e){const n=Ee(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Gp(n)}function kD(r,e,n){const s=Ee(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Gp(r){r.Ca.forEach((e=>{e.next()}))}var $m,iT;(iT=$m||($m={})).Ma="default",iT.Cache="cache";class zS{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}class jS{constructor(e){this.key=e}}class BS{constructor(e){this.key=e}}class zD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=nS(e),this.tu=new no(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new tT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const R=o.get(E),V=Fh(this.query,T)?T:null,K=!!R&&this.mutatedKeys.has(R.key),F=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let k=!1;R&&V?R.data.isEqual(V.data)?K!==F&&(s.track({type:3,doc:V}),k=!0):this.su(R,V)||(s.track({type:2,doc:V}),k=!0,(g&&this.eu(V,g)>0||y&&this.eu(V,y)<0)&&(m=!0)):!R&&V?(s.track({type:0,doc:V}),k=!0):R&&!V&&(s.track({type:1,doc:R}),k=!0,(g||y)&&(m=!0)),k&&(V?(f=f.add(V),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(V,K){const F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:k})}};return F(V)-F(K)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new ho(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new BS(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new jS(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class jD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class BD{constructor(e){this.key=e,this.hu=!1}}class qD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ws((m=>tS(m)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(fe.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HD(r,e,n=!0){const s=KS(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await qS(s,e,n,!0),o}async function FD(r,e){const n=KS(r);await qS(n,e,!0,!1)}async function qS(r,e,n,s){const o=await cD(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await GD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&OS(r.remoteStore,o),m}async function GD(r,e,n,s,o){r.pu=(T,R,V)=>(async function(F,k,Y,W){let ie=k.view.ru(Y);ie.Cs&&(ie=await XE(F.localStore,k.query,!1).then((({documents:C})=>k.view.ru(C,ie))));const Te=W&&W.targetChanges.get(k.targetId),Ae=W&&W.targetMismatches.get(k.targetId)!=null,we=k.view.applyChanges(ie,F.isPrimaryClient,Te,Ae);return sT(F,k.targetId,we.au),we.snapshot})(r,T,R,V);const u=await XE(r.localStore,e,!0),f=new zD(e,u.Qs),m=f.ru(u.documents),g=mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);sT(r,n,y.au);const E=new jD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function QD(r,e,n){const s=Ee(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Hh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ym(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&zp(s.remoteStore,o.targetId),Jm(s,o.targetId)})).catch(vo)):(Jm(s,o.targetId),await Ym(s.localStore,o.targetId,!0))}async function KD(r,e){const n=Ee(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),zp(n.remoteStore,s.targetId))}async function YD(r,e,n){const s=tO(r);try{const o=await(function(f,m){const g=Ee(f),y=it.now(),E=m.reduce(((V,K)=>V.add(K.key)),Le());let T,R;return g.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let K=hr(),F=Le();return g.Ns.getEntries(V,E).next((k=>{K=k,K.forEach(((Y,W)=>{W.isValidDocument()||(F=F.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(V,K))).next((k=>{T=k;const Y=[];for(const W of m){const ie=hN(W,T.get(W.key).overlayedDocument);ie!=null&&Y.push(new hs(W.key,ie,K0(ie.value.mapValue),sn.exists(!0)))}return g.mutationQueue.addMutationBatch(V,y,Y,m)})).next((k=>{R=k;const Y=k.applyToLocalDocumentSet(T,F);return g.documentOverlayCache.saveOverlays(V,k.batchId,Y)}))})).then((()=>({batchId:R.batchId,changes:rS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ut(Me)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await gu(s,o.changes),await Jh(s.remoteStore)}catch(o){const u=Fp(o,"Failed to persist write");n.reject(u)}}async function HS(r,e){const n=Ee(r);try{const s=await oD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?ze(f.hu,14607):o.removedDocuments.size>0&&(ze(f.hu,42227),f.hu=!1))})),await gu(n,s,e)}catch(s){await vo(s)}}function rT(r,e,n){const s=Ee(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ee(f);g.onlineState=m;let y=!1;g.queries.forEach(((E,T)=>{for(const R of T.Sa)R.va(m)&&(y=!0)})),y&&Gp(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XD(r,e,n){const s=Ee(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(fe.comparator);f=f.insert(u,zt.newNoDocument(u,ye.min()));const m=Le().add(u),g=new Yh(ye.min(),new Map,new ut(Me),f,m);await HS(s,g),s.du=s.du.remove(u),s.Au.delete(e),Kp(s)}else await Ym(s.localStore,e,!1).then((()=>Jm(s,e,n))).catch(vo)}async function $D(r,e){const n=Ee(r),s=e.batch.batchId;try{const o=await aD(n.localStore,e);GS(n,s,null),FS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await gu(n,o)}catch(o){await vo(o)}}async function JD(r,e,n){const s=Ee(r);try{const o=await(function(f,m){const g=Ee(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(ze(T!==null,37113),E=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>g.localDocuments.getDocuments(y,E)))}))})(s.localStore,e);GS(s,e,n),FS(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await gu(s,o)}catch(o){await vo(o)}}function FS(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function GS(r,e,n){const s=Ee(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Jm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||QS(r,s)}))}function QS(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(zp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Kp(r))}function sT(r,e,n){for(const s of n)s instanceof jS?(r.Ru.addReference(s.key,e),ZD(r,s)):s instanceof BS?(le(Qp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||QS(r,s.key)):pe(19791,{wu:s})}function ZD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Qp,"New document in limbo: "+n),r.Eu.add(s),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new fe(We.fromString(e)),s=r.fu.next();r.Au.set(s,new BD(n)),r.du=r.du.insert(n,s),OS(r.remoteStore,new $r(Di(Np(n.path)),s,"TargetPurposeLimboResolution",Bh.ce))}}async function gu(r,e,n){const s=Ee(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Pp.As(g.targetId,y);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const E=Ee(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(y,(R=>ne.forEach(R.Es,(V=>E.persistence.referenceDelegate.addReference(T,R.targetId,V))).next((()=>ne.forEach(R.ds,(V=>E.persistence.referenceDelegate.removeReference(T,R.targetId,V)))))))))}catch(T){if(!Eo(T))throw T;le(Up,"Failed to update sequence numbers: "+T)}for(const T of y){const R=T.targetId;if(!T.fromCache){const V=E.Ms.get(R),K=V.snapshotVersion,F=V.withLastLimboFreeSnapshotVersion(K);E.Ms=E.Ms.insert(R,F)}}})(s.localStore,u))}async function WD(r,e){const n=Ee(r);if(!n.currentUser.isEqual(e)){le(Qp,"User change. New user:",e.toKey());const s=await IS(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new se(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await gu(n,s.Ls)}}function eO(r,e){const n=Ee(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function KS(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XD.bind(null,e),e.Pu.H_=UD.bind(null,e.eventManager),e.Pu.yu=kD.bind(null,e.eventManager),e}function tO(r){const e=Ee(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JD.bind(null,e),e}class Oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return sD(this.persistence,new nD,e.initialUser,this.serializer)}Cu(e){return new CS(Lp.mi,this.serializer)}Du(e){return new fD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oh.provider={build:()=>new Oh};class nO extends Oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ze(this.persistence.referenceDelegate instanceof Nh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new BN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new CS((s=>Nh.mi(s,n)),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await MD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new PD})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=(function(u){return new yD(u)})(e.databaseInfo);return(function(u,f,m,g){return new TD(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new AD(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>rT(this.syncEngine,n,0)),(function(){return ZE.v()?new ZE:new dD})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,E){const T=new qD(o,u,f,m,g,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ee(n);le(Js,"RemoteStore shutting down."),s.Ea.add(5),await pu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class YS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class iO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new se(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(o,u){const f=Ee(o),m={documents:u.map((T=>Ih(f.serializer,T)))},g=await f.Ho("BatchGetDocuments",f.serializer.databaseId,We.emptyPath(),m,u.length),y=new Map;g.forEach((T=>{const R=wN(f.serializer,T);y.set(R.key.toString(),R)}));const E=[];return u.forEach((T=>{const R=y.get(T.toString());ze(!!R,55234,{key:T}),E.push(R)})),E})(this.datastore,e);return n.forEach((s=>this.recordVersion(s))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Kh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,s)=>{const o=fe.fromPath(s);this.mutations.push(new dS(o,this.precondition(o)))})),await(async function(s,o){const u=Ee(s),f={writes:o.map((m=>SS(u.serializer,m)))};await u.Go("Commit",u.serializer.databaseId,We.emptyPath(),f)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw pe(50498,{Gu:e.constructor.name});n=ye.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new se(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ye.min())?sn.exists(!1):sn.updateTime(n):sn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ye.min()))throw new se(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(n)}return sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rO{constructor(e,n,s,o,u){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=o,this.deferred=u,this.zu=s.maxAttempts,this.M_=new kp(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new iO(this.datastore),n=this.Hu(e);n&&n.then((s=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(s)})).catch((o=>{this.Yu(o)}))))})).catch((s=>{this.Yu(s)}))}))}Hu(e){try{const n=this.updateFunction(e);return!fu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!mS(n)}return!1}}const us="FirestoreClient";class sO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Fp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function bm(r,e){r.asyncQueue.verifyOperationInProgress(),le(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function aT(r,e){r.asyncQueue.verifyOperationInProgress();const n=await aO(r);le(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>eT(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>eT(e.remoteStore,o))),r._onlineComponents=e}async function aO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(us,"Using user provided OfflineComponentProvider");try{await bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await bm(r,new Oh)}}else le(us,"Using default OfflineComponentProvider"),await bm(r,new nO(void 0));return r._offlineComponents}async function Yp(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(us,"Using user provided OnlineComponentProvider"),await aT(r,r._uninitializedComponentsProvider._online)):(le(us,"Using default OnlineComponentProvider"),await aT(r,new Zm))),r._onlineComponents}function oO(r){return Yp(r).then((e=>e.syncEngine))}function lO(r){return Yp(r).then((e=>e.datastore))}async function XS(r){const e=await Yp(r),n=e.eventManager;return n.onListen=HD.bind(null,e.syncEngine),n.onUnlisten=QD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KD.bind(null,e.syncEngine),n}function uO(r,e,n={}){const s=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new YS({next:R=>{E.Nu(),f.enqueueAndForget((()=>kS(u,T)));const V=R.docs.has(m);!V&&R.fromCache?y.reject(new se(J.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&g&&g.source==="server"?y.reject(new se(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new zS(Np(m.path),E,{includeMetadataChanges:!0,qa:!0});return US(u,T)})(await XS(r),r.asyncQueue,e,n,s))),s.promise}function cO(r,e,n={}){const s=new Ni;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const E=new YS({next:R=>{E.Nu(),f.enqueueAndForget((()=>kS(u,T))),R.fromCache&&g.source==="server"?y.reject(new se(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),T=new zS(m,E,{includeMetadataChanges:!0,qa:!0});return US(u,T)})(await XS(r),r.asyncQueue,e,n,s))),s.promise}function $S(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const oT=new Map;const JS="firestore.googleapis.com",lT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=JS,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zN)throw new se(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$S(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new se(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new m2;switch(s.type){case"firstParty":return new _2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new se(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oT.get(n);s&&(le("ComponentProvider","Removing Datastore"),oT.delete(n),s.terminate())})(this),Promise.resolve()}}function hO(r,e,n,s={}){r=is(r,Zh);const o=po(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(FT(`https://${m}`),GT("Firestore",!0)),u.host!==JS&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ks(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Zt.MOCK_USER;else{y=kb(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new se(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new p2(new L0(y,E))}}class ta{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ta(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(hu(n,Nt._jsonSchema))return new Nt(e,s||null,new fe(We.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:It("string",Nt._jsonSchemaVersion),referencePath:It("string")};class ts extends ta{constructor(e,n,s){super(e,n,Np(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new fe(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function na(r,e,...n){if(r=jt(r),P0("collection","path",e),r instanceof Zh){const s=We.fromString(e,...n);return SE(s),new ts(r,null,s)}{if(!(r instanceof Nt||r instanceof ts))throw new se(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(e,...n));return SE(s),new ts(r.firestore,null,s)}}function eu(r,e,...n){if(r=jt(r),arguments.length===1&&(e=Ap.newId()),P0("doc","path",e),r instanceof Zh){const s=We.fromString(e,...n);return TE(s),new Nt(r,null,new fe(s))}{if(!(r instanceof Nt||r instanceof ts))throw new se(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(We.fromString(e,...n));return TE(s),new Nt(r.firestore,r instanceof ts?r.converter:null,new fe(s))}}const cT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kp(this,"async_queue_retry"),this._c=()=>{const s=wm();s&&le(cT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=wm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ni;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;le(cT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",fT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fT(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Ao extends Zh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function fO(r,e){const n=typeof r=="object"?r:XT(),s=typeof r=="string"?r:Ah,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Pb("firestore");u&&hO(o,...u)}return o}function Wh(r){if(r._terminated)throw new se(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dO(r),r._firestoreClient}function dO(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new L2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,$S(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wn(Xt.fromBase64String(e))}catch(n){throw new se(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(hu(e,wn._jsonSchema))return wn.fromBase64String(e.bytes)}}wn._jsonSchemaVersion="firestore/bytes/1.0",wn._jsonSchema={type:It("string",wn._jsonSchemaVersion),bytes:It("string")};class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._methodName=e}}class Oi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(e){if(hu(e,Oi._jsonSchema))return new Oi(e.latitude,e.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:It("string",Oi._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};class xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(hu(e,xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xi(e.vectorValues);throw new se(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:It("string",xi._jsonSchemaVersion),vectorValues:It("object")};const mO=/^__.*__$/;class pO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class ZS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:r})}}class Xp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(WS(this.Ac)&&mO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,o=!1){return new Xp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $p(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new gO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function eA(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,s);const m=tA(s,f);let g,y;if(u.merge)g=new bn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const R=Wm(e,T,n);if(!f.contains(R))throw new se(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);iA(E,R)||E.push(R)}g=new bn(E),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new pO(new rn(m),g,y)}class nf extends tf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Jp extends tf{_toFieldTransform(e){return new oN(e.path,new Jl)}isEqual(e){return e instanceof Jp}}function yO(r,e,n,s){const o=r.Cc(1,e,n);Zp("Data must be an object, but it was:",o,s);const u=[],f=rn.empty();cs(s,((g,y)=>{const E=Wp(e,g,n);y=jt(y);const T=o.yc(E);if(y instanceof nf)u.push(E);else{const R=yu(y,T);R!=null&&(u.push(E),f.set(E,R))}}));const m=new bn(u);return new ZS(f,m,o.fieldTransforms)}function _O(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Wm(e,s,n)],g=[o];if(u.length%2!=0)throw new se(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Wm(e,u[R])),g.push(u[R+1]);const y=[],E=rn.empty();for(let R=m.length-1;R>=0;--R)if(!iA(y,m[R])){const V=m[R];let K=g[R];K=jt(K);const F=f.yc(V);if(K instanceof nf)y.push(V);else{const k=yu(K,F);k!=null&&(y.push(V),E.set(V,k))}}const T=new bn(y);return new ZS(E,T,f.fieldTransforms)}function vO(r,e,n,s=!1){return yu(n,r.Cc(s?4:3,e))}function yu(r,e){if(nA(r=jt(r)))return Zp("Unsupported field value:",e,r),tA(r,e);if(r instanceof tf)return(function(s,o){if(!WS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let g=yu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Oi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof wn)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xi)return(function(f,m){return{mapValue:{fields:{[G0]:{stringValue:Q0},[wh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jh(s)}`)})(r,e)}function tA(r,e){const n={};return z0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,((s,o)=>{const u=yu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function nA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Oi||r instanceof wn||r instanceof Nt||r instanceof tf||r instanceof xi)}function Zp(r,e,n){if(!nA(n)||!U0(n)){const s=jh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Wm(r,e,n){if((e=jt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Wp(r,e);throw xh("Field path arguments must be of type string or ",r,!1,void 0,n)}const EO=new RegExp("[~\\*/\\[\\]]");function Wp(r,e,n){if(e.search(EO)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function xh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new se(J.INVALID_ARGUMENT,m+r+g)}function iA(r,e){return r.some((n=>n.isEqual(e)))}class Vh{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TO extends Vh{data(){return super.data()}}function rf(r,e){return typeof e=="string"?Wp(r,e):e instanceof ef?e._internalPath:e._delegate._internalPath}function SO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new se(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class rA extends eg{}function sf(r,e,...n){let s=[];e instanceof eg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof ng)).length,m=u.filter((g=>g instanceof af)).length;if(f>1||f>0&&m>0)throw new se(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class af extends rA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return sA(e._query,n),new ta(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=$p(e.firestore);return(function(u,f,m,g,y,E,T){let R;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new se(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){mT(T,E);const K=[];for(const F of T)K.push(dT(g,u,F));R={arrayValue:{values:K}}}else R=dT(g,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||mT(T,E),R=vO(m,f,T,E==="in"||E==="not-in");return Ct.create(y,E,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tg(r,e,n){const s=e,o=rf("where",r);return af._create(o,s,n)}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)sA(f,g),f=Hm(f,g)})(e._query,n),new ta(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends rA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new se(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)})(e._query,this._field,this._direction);return new ta(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function rg(r,e="asc"){const n=e,s=rf("orderBy",r);return ig._create(s,n)}function dT(r,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new se(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(e)&&n.indexOf("/")!==-1)throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(We.fromString(n));if(!fe.isDocumentKey(s))throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return DE(r,new fe(s))}if(n instanceof Nt)return DE(r,n._key);throw new se(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function mT(r,e){if(!Array.isArray(r)||r.length===0)throw new se(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sA(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class aA{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[wh].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new xi(n)}convertGeoPoint(e){return new Oi(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=We.fromString(e);ze(bS(s),9688,{name:e});const o=new Yl(s.get(1),s.get(3)),u=new fe(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function oA(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class AO extends aA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}class Za{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends Vh{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:It("string",ns._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class fh extends ns{data(e={}){return super.data(e)}}class io{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Za(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Za(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Za(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Za(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:wO(m.type),doc:g,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:r})}}function lA(r){r=is(r,Nt);const e=is(r.firestore,Ao);return uO(Wh(e),r._key).then((n=>RO(e,r,n)))}io._jsonSchemaVersion="firestore/querySnapshot/1.0",io._jsonSchema={type:It("string",io._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class sg extends aA{constructor(e){super(),this.firestore=e}convertBytes(e){return new wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function _u(r){r=is(r,ta);const e=is(r.firestore,Ao),n=Wh(e),s=new sg(e);return SO(r._query),cO(n,r._query).then((o=>new io(e,s,r,o)))}function pT(r){return uA(is(r.firestore,Ao),[new Kh(r._key,sn.none())])}function bO(r,e){const n=is(r.firestore,Ao),s=eu(r),o=oA(r.converter,e);return uA(n,[eA($p(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,sn.exists(!1))]).then((()=>s))}function uA(r,e){return(function(s,o){const u=new Ni;return s.asyncQueue.enqueueAndForget((async()=>YD(await oO(s),o,u))),u.promise})(Wh(r),e)}function RO(r,e,n){const s=n.docs.get(e._key),o=new sg(r);return new ns(r,o,e._key,s,new Za(n.hasPendingWrites,n.fromCache),e.converter)}const CO={maxAttempts:5};function Ll(r,e){if((r=jt(r)).firestore!==e)throw new se(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class IO{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=$p(e)}get(e){const n=Ll(e,this._firestore),s=new AO(this._firestore);return this._transaction.lookup([n._key]).then((o=>{if(!o||o.length!==1)return pe(24041);const u=o[0];if(u.isFoundDocument())return new Vh(this._firestore,s,u.key,u,n.converter);if(u.isNoDocument())return new Vh(this._firestore,s,n._key,null,n.converter);throw pe(18433,{doc:u})}))}set(e,n,s){const o=Ll(e,this._firestore),u=oA(o.converter,n,s),f=eA(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,s);return this._transaction.set(o._key,f),this}update(e,n,s,...o){const u=Ll(e,this._firestore);let f;return f=typeof(n=jt(n))=="string"||n instanceof ef?_O(this._dataReader,"Transaction.update",u._key,n,s,o):yO(this._dataReader,"Transaction.update",u._key,n),this._transaction.update(u._key,f),this}delete(e){const n=Ll(e,this._firestore);return this._transaction.delete(n._key),this}}class NO extends IO{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Ll(e,this._firestore),s=new sg(this._firestore);return super.get(e).then((o=>new ns(this._firestore,s,n._key,o._document,new Za(!1,!1),n.converter)))}}function DO(r,e,n){r=is(r,Ao);const s={...CO,...n};return(function(u){if(u.maxAttempts<1)throw new se(J.INVALID_ARGUMENT,"Max attempts must be at least 1")})(s),(function(u,f,m){const g=new Ni;return u.asyncQueue.enqueueAndForget((async()=>{const y=await lO(u);new rO(u.asyncQueue,y,m,f,g).ju()})),g.promise})(Wh(r),(o=>e(new NO(r,o))),s)}function cA(){return new Jp("serverTimestamp")}(function(e,n=!0){(function(o){_o=o})(go),ro(new Ys("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ao(new g2(s.getProvider("auth-internal")),new v2(f,s.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new se(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Wr(yE,_E,e),Wr(yE,_E,"esm2020")})();const ep={apiKey:"AIzaSyBGGTJ_QpLU0Dmce2KtAJaktIbYV6kHW2c",authDomain:"kuji-app-ce.firebaseapp.com",projectId:"kuji-app-ce",storageBucket:"kuji-app-ce.firebasestorage.app",messagingSenderId:"343026759778",appId:"1:343026759778:web:3cf80fa7fc0d718f11793b"},mn=!ep.apiKey||ep.apiKey==="your-api-key";let Rm=null,tu=null,jn=null;if(!mn)try{Rm=YT(ep),tu=c2(Rm),jn=fO(Rm)}catch(r){console.error("Firebase:",r)}const OO=new ir,xO=async()=>{try{return await vI(tu,OO)}catch(r){throw console.error("Google:",r),r}},VO=async()=>{try{await WC(tu)}catch(r){throw console.error(":",r),r}},hA=H.createContext(null),MO=({children:r})=>{const[e,n]=H.useState(null),[s,o]=H.useState(!mn),[u,f]=H.useState(mn);H.useEffect(()=>{if(mn){o(!1);return}if(!tu){o(!1);return}const E=ZC(tu,T=>{n(T),o(!1)});return()=>E()},[]);const y={user:e,loading:s,login:async()=>{if(mn){n({uid:"demo-user-001",displayName:"",photoURL:null,email:"demo@example.com"});return}try{await xO()}catch(E){throw console.error(":",E),E}},logout:async()=>{if(mn){n(null);return}try{await VO()}catch(E){throw console.error(":",E),E}},isAuthenticated:!!e,isDemoMode:u};return w.jsx(hA.Provider,{value:y,children:r})},ia=()=>{const r=H.useContext(hA);if(!r)throw new Error("useAuthAuthProvider");return r},LO=()=>{const{user:r,login:e,logout:n,loading:s}=ia();return s?w.jsx("div",{className:"login-button-skeleton"}):r?w.jsxs("div",{className:"user-info",children:[w.jsx("img",{src:r.photoURL||"/default-avatar.png",alt:r.displayName||"",className:"user-avatar"}),w.jsx("span",{className:"user-name",children:r.displayName}),w.jsx("button",{onClick:n,className:"logout-button",children:""})]}):w.jsxs("button",{onClick:e,className:"login-button",children:[w.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),w.jsx("span",{children:"Google"})]})},Pi="lotteries",of="draws",PO=(r,e)=>{const n=[];e.forEach((o,u)=>{for(let f=0;f<o.count;f++)n.push({type:"prize",prizeIndex:u,prizeName:o.name,drawn:!1})});const s=r-n.length;for(let o=0;o<s;o++)n.push({type:"lose",drawn:!1});for(let o=n.length-1;o>0;o--){const u=Math.floor(Math.random()*(o+1));[n[o],n[u]]=[n[u],n[o]]}return n},tp=(r,e)=>{const n=r.filter(f=>!f.drawn),s=n.length,o=e.map((f,m)=>({...f,remaining:n.filter(g=>g.type==="prize"&&g.prizeIndex===m).length})),u=n.filter(f=>f.type==="prize").length;return{remainingTotal:s,remainingWinners:u,remainingPrizes:o}};let Vi=[];const UO=async r=>{const e=PO(r.totalCount,r.prizes),{remainingTotal:n,remainingWinners:s,remainingPrizes:o}=tp(e,r.prizes);if(mn){const u=`demo-lottery-${Date.now()}`,f={id:u,...r,cards:e,remainingTotal:n,remainingWinners:s,remainingPrizes:o,createdAt:new Date,status:"active"};return Vi.unshift(f),u}try{return(await bO(na(jn,Pi),{...r,cards:e,remainingTotal:n,remainingWinners:s,remainingPrizes:o,createdAt:cA(),status:"active"})).id}catch(u){throw console.error(":",u),u}},np=async r=>{if(mn)return Vi.find(e=>e.id===r)||null;try{const e=eu(jn,Pi,r),n=await lA(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error(":",e),e}},kO=async r=>{if(mn)return Vi.filter(e=>e.creatorId===r);try{const e=sf(na(jn,Pi),tg("creatorId","==",r),rg("createdAt","desc"));return(await _u(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error(":",e),e}},zO=async()=>{if(mn)return Vi.filter(r=>r.status==="active");try{const r=sf(na(jn,Pi),tg("status","==","active"),rg("createdAt","desc"));return(await _u(r)).docs.map(n=>({id:n.id,...n.data()}))}catch(r){throw console.error(":",r),r}},jO=async(r,e,n,s)=>{if(mn){const o=Vi.find(E=>E.id===r);if(!o)throw new Error("");if(o.cards[s].drawn)throw new Error("");o.cards[s].drawn=!0,o.cards[s].drawnBy=n;const u=o.cards[s],f=u.type==="prize",{remainingTotal:m,remainingWinners:g,remainingPrizes:y}=tp(o.cards,o.prizes);return o.remainingTotal=m,o.remainingWinners=g,o.remainingPrizes=y,m<=0&&(o.status="completed"),{result:f?"win":"lose",prizeDescription:f?u.prizeName:null,prizeIndex:f?u.prizeIndex:null}}try{const o=eu(jn,Pi,r);return await DO(jn,async f=>{const m=await f.get(o);if(!m.exists())throw new Error("");const g=m.data();if(g.cards[s].drawn)throw new Error("");const y=[...g.cards];y[s]={...y[s],drawn:!0};const E=g.cards[s],T=E.type==="prize",{remainingTotal:R,remainingWinners:V,remainingPrizes:K}=tp(y,g.prizes),F={cards:y,remainingTotal:R,remainingWinners:V,remainingPrizes:K};R<=0&&(F.status="completed"),f.update(o,F);const k=eu(na(jn,Pi,r,of));return f.set(k,{userId:e,nickname:n,cardIndex:s,result:T?"win":"lose",prizeName:T?E.prizeName:null,drawnAt:cA()}),{result:T?"win":"lose",prizeDescription:T?E.prizeName:null,prizeIndex:T?E.prizeIndex:null}})}catch(o){throw console.error(":",o),o}},BO=async r=>{if(mn){const e=Vi.find(n=>n.id===r);return e?e.cards.map((n,s)=>n.drawn?{cardIndex:s,result:n.type==="prize"?"win":"lose",prizeName:n.type==="prize"?n.prizeName:null,nickname:n.drawnBy||""}:null).filter(Boolean):[]}try{const e=sf(na(jn,Pi,r,of),rg("drawnAt","desc"));return(await _u(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){throw console.error(":",e),e}},qO=async(r,e)=>{if(mn){const n=Vi.find(s=>s.id===r);return!n||!n.drawHistory?!1:n.drawHistory.some(s=>s.userId===e)}try{const n=sf(na(jn,Pi,r,of),tg("userId","==",e));return!(await _u(n)).empty}catch(n){throw console.error(":",n),n}},HO=async(r,e)=>{if(mn){const n=Vi.findIndex(o=>o.id===r);if(n===-1)throw new Error("");if(Vi[n].creatorId!==e)throw new Error("");return Vi.splice(n,1),!0}try{const n=eu(jn,Pi,r),s=await lA(n);if(!s.exists())throw new Error("");if(s.data().creatorId!==e)throw new Error("");const f=(await _u(na(jn,Pi,r,of))).docs.map(m=>pT(m.ref));return await Promise.all(f),await pT(n),!0}catch(n){throw console.error(":",n),n}},FO=()=>{const{user:r,isAuthenticated:e,loading:n,isDemoMode:s}=ia(),o=ru(),[u,f]=H.useState([]),[m,g]=H.useState([]),[y,E]=H.useState(!1),[T,R]=H.useState(null),[V,K]=H.useState(!1),F=async(Y,W)=>{W.stopPropagation(),R(Y)},k=async()=>{if(T){K(!0);try{await HO(T,r.uid),f(Y=>Y.filter(W=>W.id!==T)),R(null)}catch(Y){console.error(":",Y),alert(Y.message||"")}finally{K(!1)}}};return H.useEffect(()=>{(async()=>{if(e){E(!0);try{const[W,ie]=await Promise.all([kO(r.uid),zO()]);f(W),g(ie.filter(Te=>Te.creatorId!==r.uid))}catch(W){console.error(":",W)}finally{E(!1)}}})()},[e,r]),n?w.jsx("div",{className:"home-loading",children:w.jsx("div",{className:"loading-spinner-large"})}):w.jsxs("div",{className:"home",children:[w.jsxs("header",{className:"home-header",children:[w.jsxs("h1",{className:"app-title",children:[w.jsx("span",{className:"title-icon",children:""}),""]}),w.jsx(LO,{})]}),s&&w.jsxs("div",{className:"demo-banner",children:[w.jsx("span",{children:""}),w.jsx("span",{children:": Firebase"})]}),e?w.jsxs("main",{className:"home-main",children:[w.jsx("div",{className:"action-buttons",children:w.jsxs("button",{className:"action-button create",onClick:()=>o("/create"),children:[w.jsx("span",{className:"button-icon",children:""}),w.jsx("span",{className:"button-text",children:""})]})}),y?w.jsx("div",{className:"section-loading",children:w.jsx("div",{className:"loading-spinner"})}):w.jsxs(w.Fragment,{children:[u.length>0&&w.jsxs("section",{className:"lottery-section",children:[w.jsx("h2",{className:"section-title",children:" "}),w.jsx("div",{className:"lottery-list",children:u.map(Y=>w.jsxs("div",{className:"lottery-card",onClick:()=>o(`/view/${Y.id}`),children:[w.jsxs("div",{className:"lottery-card-header",children:[w.jsx("h3",{className:"lottery-card-title",children:Y.title}),w.jsx("span",{className:`status-badge ${Y.status}`,children:Y.status==="active"?"":""})]}),w.jsxs("div",{className:"lottery-card-stats",children:[w.jsxs("span",{children:[": ",Y.remainingTotal,"/",Y.totalCount,""]}),w.jsxs("span",{children:[": ",Y.remainingWinners,""]})]}),w.jsx("button",{className:"delete-button",onClick:W=>F(Y.id,W),children:" "})]},Y.id))})]}),m.length>0&&w.jsxs("section",{className:"lottery-section",children:[w.jsx("h2",{className:"section-title",children:" "}),w.jsx("div",{className:"lottery-list",children:m.map(Y=>w.jsxs("div",{className:"lottery-card",onClick:()=>o(`/draw/${Y.id}`),children:[w.jsx("div",{className:"lottery-card-header",children:w.jsx("h3",{className:"lottery-card-title",children:Y.title})}),w.jsx("div",{className:"lottery-card-info",children:w.jsxs("span",{children:[": ",Y.creatorName]})}),w.jsx("div",{className:"lottery-card-stats",children:w.jsxs("span",{children:[": ",Y.remainingTotal,""]})})]},Y.id))})]}),u.length===0&&m.length===0&&w.jsxs("div",{className:"empty-state",children:[w.jsx("span",{className:"empty-icon",children:""}),w.jsx("p",{children:""}),w.jsx("p",{className:"empty-hint",children:""})]})]})]}):w.jsx("main",{className:"home-hero",children:w.jsxs("div",{className:"hero-content",children:[w.jsxs("h2",{className:"hero-title",children:["",w.jsx("br",{}),w.jsx("span",{className:"highlight",children:""})]}),w.jsxs("p",{className:"hero-description",children:["",w.jsx("br",{}),"ONLINE",w.jsx("br",{}),""]}),w.jsxs("div",{className:"hero-features",children:[w.jsxs("div",{className:"feature-item",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("span",{children:""})]}),w.jsxs("div",{className:"feature-item",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("span",{children:""})]}),w.jsxs("div",{className:"feature-item",children:[w.jsx("span",{className:"feature-icon",children:""}),w.jsx("span",{children:""})]})]}),w.jsx("p",{className:"hero-cta",children:" Google"})]})}),T&&w.jsx("div",{className:"delete-modal-overlay",onClick:()=>R(null),children:w.jsxs("div",{className:"delete-modal",onClick:Y=>Y.stopPropagation(),children:[w.jsx("h3",{children:""}),w.jsx("p",{children:""}),w.jsxs("div",{className:"delete-modal-buttons",children:[w.jsx("button",{className:"cancel-btn",onClick:()=>R(null),disabled:V,children:""}),w.jsx("button",{className:"confirm-delete-btn",onClick:k,disabled:V,children:V?"...":""})]})]})})]})},GO=({onSuccess:r})=>{const{user:e}=ia(),[n,s]=H.useState({title:"",totalCount:10,prizes:[{name:"",count:1}]}),[o,u]=H.useState(!1),[f,m]=H.useState(""),g=F=>{const{name:k,value:Y,type:W}=F.target;s(ie=>({...ie,[k]:W==="number"?parseInt(Y,10)||0:Y}))},y=(F,k,Y)=>{s(W=>{const ie=[...W.prizes];return ie[F]={...ie[F],[k]:k==="count"?parseInt(Y,10)||0:Y},{...W,prizes:ie}})},E=()=>{s(F=>({...F,prizes:[...F.prizes,{name:"",count:1}]}))},T=F=>{n.prizes.length<=1||s(k=>({...k,prizes:k.prizes.filter((Y,W)=>W!==F)}))},R=n.prizes.reduce((F,k)=>F+k.count,0),V=n.totalCount-R,K=async F=>{if(F.preventDefault(),m(""),!n.title.trim()){m("");return}if(n.totalCount<1){m("1");return}if(n.prizes.some(k=>!k.name.trim())){m("");return}if(n.prizes.some(k=>k.count<1)){m("1");return}if(R>n.totalCount){m("");return}u(!0);try{const k=await UO({creatorId:e.uid,creatorName:e.displayName||"",title:n.title,totalCount:n.totalCount,prizes:n.prizes});r&&r(k)}catch(k){m(""),console.error(k)}finally{u(!1)}};return w.jsxs("form",{className:"lottery-form",onSubmit:K,children:[w.jsx("h2",{className:"form-title",children:" "}),f&&w.jsx("div",{className:"form-error",children:f}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"title",children:""}),w.jsx("input",{type:"text",id:"title",name:"title",value:n.title,onChange:g,placeholder:": ",className:"form-input"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"totalCount",children:""}),w.jsx("input",{type:"number",id:"totalCount",name:"totalCount",value:n.totalCount,onChange:g,min:"1",max:"100",className:"form-input"})]}),w.jsxs("div",{className:"form-group prizes-section",children:[w.jsx("label",{children:""}),w.jsx("div",{className:"prizes-list",children:n.prizes.map((F,k)=>w.jsxs("div",{className:"prize-item",children:[w.jsxs("span",{className:"prize-rank",children:[k+1,""]}),w.jsx("input",{type:"text",value:F.name,onChange:Y=>y(k,"name",Y.target.value),placeholder:"",className:"form-input prize-name"}),w.jsx("input",{type:"number",value:F.count,onChange:Y=>y(k,"count",Y.target.value),min:"1",max:n.totalCount,className:"form-input prize-count"}),w.jsx("span",{className:"prize-unit",children:""}),n.prizes.length>1&&w.jsx("button",{type:"button",className:"remove-prize-btn",onClick:()=>T(k),children:""})]},k))}),w.jsx("button",{type:"button",className:"add-prize-btn",onClick:E,children:" "})]}),w.jsxs("div",{className:"form-summary",children:[w.jsxs("div",{className:"summary-item",children:[w.jsx("span",{children:""}),w.jsxs("span",{className:"summary-value winner",children:[R,""]})]}),w.jsxs("div",{className:"summary-item",children:[w.jsx("span",{children:""}),w.jsxs("span",{className:`summary-value ${V<0?"error":"loser"}`,children:[V,""]})]}),w.jsxs("div",{className:"summary-item",children:[w.jsx("span",{children:""}),w.jsxs("span",{className:"summary-value",children:[(R/n.totalCount*100).toFixed(1),"%"]})]})]}),w.jsx("button",{type:"submit",className:"submit-button",disabled:o||V<0,children:o?w.jsx("span",{className:"loading-spinner"}):w.jsxs(w.Fragment,{children:[w.jsx("span",{children:""}),w.jsx("span",{children:""})]})})]})},QO=()=>{const{isAuthenticated:r,loading:e}=ia(),n=ru(),s=o=>{n(`/draw/${o}`)};return e?w.jsx("div",{className:"create-loading",children:w.jsx("div",{className:"loading-spinner-large"})}):r?w.jsxs("div",{className:"create-lottery",children:[w.jsx("header",{className:"create-header",children:w.jsx("button",{onClick:()=>n("/"),className:"back-link",children:" "})}),w.jsx("main",{className:"create-main",children:w.jsx(GO,{onSuccess:s})})]}):w.jsxs("div",{className:"create-unauthorized",children:[w.jsx("h2",{children:""}),w.jsx("p",{children:""}),w.jsx("button",{onClick:()=>n("/"),className:"back-button",children:""})]})},KO=({cardIndex:r,isDrawn:e,onDraw:n,disabled:s})=>{const[o,u]=H.useState(!1),[f,m]=H.useState(!1),[g,y]=H.useState(null),[E,T]=H.useState(!1),R=async()=>{if(!(s||o||f||e)){u(!0);try{const V=await n();V?V.result==="win"?(T(!0),setTimeout(()=>{y(V),m(!0),u(!1)},1500)):setTimeout(()=>{y(V),m(!0),u(!1)},400):u(!1)}catch(V){u(!1),console.error(":",V)}}};return e&&!f?w.jsx("div",{className:"draw-card-container drawn",children:w.jsx("div",{className:"draw-card",children:w.jsx("div",{className:"card-front drawn-card",children:w.jsx("div",{className:"drawn-overlay",children:w.jsx("span",{className:"drawn-text",children:""})})})})}):w.jsx("div",{className:`draw-card-container ${o?"flipping":""} ${f?"flipped":""} ${E?"winner-effect":""}`,onClick:R,style:{"--card-index":r},children:w.jsxs("div",{className:"draw-card",children:[E&&w.jsxs("div",{className:"winner-anticipation",children:[w.jsx("div",{className:"sparkle-container",children:[...Array(12)].map((V,K)=>w.jsx("div",{className:"sparkle",style:{"--i":K}},K))}),w.jsx("div",{className:"rainbow-ring"})]}),w.jsxs("div",{className:"card-front",children:[w.jsx("div",{className:"card-pattern",children:w.jsx("span",{className:"card-number",children:r+1})}),w.jsx("div",{className:"card-shine"})]}),w.jsx("div",{className:`card-back ${g?.result==="win"?"winner":"loser"}`,children:g&&w.jsx(w.Fragment,{children:g.result==="win"?w.jsxs("div",{className:"result-content winner-content",children:[w.jsx("div",{className:"result-icon",children:""}),w.jsx("div",{className:"result-text",children:"!"}),w.jsx("div",{className:"prize-text",children:g.prizeDescription})]}):w.jsxs("div",{className:"result-content loser-content",children:[w.jsx("div",{className:"result-icon",children:""}),w.jsx("div",{className:"result-text",children:""})]})})})]})})},YO=({result:r,onClose:e})=>{const n=r?.result==="win";return H.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),w.jsx("div",{className:"result-modal-overlay",onClick:e,children:w.jsx("div",{className:`result-modal ${n?"winner":"loser"}`,onClick:s=>s.stopPropagation(),children:n?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"confetti-container",children:[...Array(50)].map((s,o)=>w.jsx("div",{className:"confetti",style:{"--x":`${Math.random()*100}%`,"--delay":`${Math.random()*.5}s`,"--duration":`${1+Math.random()*2}s`,"--color":["#fbbf24","#f59e0b","#8b5cf6","#ec4899","#10b981"][Math.floor(Math.random()*5)]}},o))}),w.jsxs("div",{className:"result-content",children:[w.jsxs("div",{className:"result-badge winner-badge",children:[w.jsx("span",{className:"badge-icon",children:""}),w.jsx("span",{className:"badge-text",children:""})]}),w.jsx("h2",{className:"result-title",children:""}),w.jsxs("div",{className:"prize-card",children:[w.jsx("span",{className:"prize-label",children:" "}),w.jsx("p",{className:"prize-description",children:r.prizeDescription})]}),w.jsx("button",{className:"close-button",onClick:e,children:""})]})]}):w.jsxs("div",{className:"result-content",children:[w.jsx("div",{className:"result-badge loser-badge",children:w.jsx("span",{className:"badge-icon",children:""})}),w.jsx("h2",{className:"result-title loser-title",children:"..."}),w.jsx("p",{className:"loser-message",children:""}),w.jsx("p",{className:"encourage-message",children:""}),w.jsx("button",{className:"close-button",onClick:e,children:""})]})})})},XO=({lotteryId:r})=>{const{user:e}=ia(),[n,s]=H.useState(null),[o,u]=H.useState(""),[f,m]=H.useState(!1),[g,y]=H.useState(!0),[E,T]=H.useState(null),[R,V]=H.useState(!1),[K,F]=H.useState(""),[k,Y]=H.useState(new Set),[W,ie]=H.useState(!1);H.useEffect(()=>{r&&(async()=>{try{const b=await np(r);if(s(b),b?.cards){const I=new Set;b.cards.forEach((L,O)=>{L.drawn&&I.add(O)}),Y(I)}if(e&&b){const I=await qO(r,e.uid);ie(I)}}catch(b){F(""),console.error(b)}finally{y(!1)}})()},[r,e]);const Te=C=>{C.preventDefault(),o.trim()&&m(!0)},Ae=async C=>{if(k.has(C)||W)return null;try{const b=await jO(r,e.uid,o,C);T(b);const I=b.result==="win"?2e3:600;setTimeout(()=>{Y(O=>new Set([...O,C])),V(!0)},I);const L=await np(r);return s(L),b}catch(b){throw F(b.message||""),b}},we=()=>{V(!1),ie(!0)};return g?w.jsxs("div",{className:"draw-area-loading",children:[w.jsx("div",{className:"loading-spinner-large"}),w.jsx("p",{children:"..."})]}):K?w.jsxs("div",{className:"draw-area-error",children:[w.jsx("span",{className:"error-icon",children:""}),w.jsx("p",{children:K})]}):n?n.status==="completed"||n.remainingTotal<=0?w.jsxs("div",{className:"draw-area-completed",children:[w.jsx("span",{className:"completed-icon",children:""}),w.jsx("h2",{children:""}),w.jsx("p",{children:""})]}):W?w.jsxs("div",{className:"draw-area-already-drawn",children:[w.jsx("span",{className:"already-drawn-icon",children:""}),w.jsx("h2",{children:""}),w.jsx("p",{children:"1"}),w.jsxs("div",{className:"lottery-info-box",children:[w.jsx("h3",{children:n.title}),w.jsxs("p",{children:[": ",n.remainingTotal,""]})]})]}):w.jsxs("div",{className:"draw-area",children:[w.jsxs("div",{className:"lottery-header",children:[w.jsx("h1",{className:"lottery-title",children:n.title}),w.jsxs("div",{className:"lottery-stats",children:[w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label",children:""}),w.jsxs("span",{className:"stat-value",children:[n.remainingTotal,""]})]}),w.jsx("div",{className:"stat-divider"}),w.jsxs("div",{className:"stat-item",children:[w.jsx("span",{className:"stat-label",children:""}),w.jsxs("span",{className:"stat-value highlight",children:[n.remainingWinners,""]})]})]}),n.remainingPrizes&&w.jsx("div",{className:"prizes-status",children:n.remainingPrizes.map((C,b)=>w.jsxs("div",{className:`prize-status-item ${C.remaining===0?"depleted":""}`,children:[w.jsxs("span",{className:"prize-rank-badge",children:[b+1,""]}),w.jsx("span",{className:"prize-name",children:C.name}),w.jsxs("span",{className:"prize-remaining",children:["",C.remaining,""]})]},b))}),w.jsxs("div",{className:"creator-info",children:[": ",n.creatorName]})]}),f?w.jsxs("div",{className:"draw-section",children:[w.jsxs("p",{className:"draw-instruction",children:[w.jsx("span",{className:"nickname-display",children:o}),"1"]}),w.jsx("div",{className:"cards-grid",children:n.cards.map((C,b)=>w.jsx(KO,{cardIndex:b,isDrawn:k.has(b),onDraw:()=>Ae(b),disabled:k.has(b)||C.drawn||W},b))})]}):w.jsxs("form",{className:"nickname-form",onSubmit:Te,children:[w.jsx("h2",{children:""}),w.jsxs("div",{className:"nickname-input-wrapper",children:[w.jsx("input",{type:"text",value:o,onChange:C=>u(C.target.value),placeholder:"",className:"nickname-input",maxLength:20}),w.jsx("button",{type:"submit",className:"nickname-submit",disabled:!o.trim(),children:""})]})]}),R&&E&&w.jsx(YO,{result:E,onClose:we})]}):w.jsxs("div",{className:"draw-area-error",children:[w.jsx("span",{className:"error-icon",children:""}),w.jsx("p",{children:""})]})},$O=()=>{const{lotteryId:r}=NT(),{isAuthenticated:e,loading:n}=ia(),s=ru();return n?w.jsx("div",{className:"draw-loading",children:w.jsx("div",{className:"loading-spinner-large"})}):e?w.jsxs("div",{className:"draw-lottery",children:[w.jsx("header",{className:"draw-header",children:w.jsx("button",{onClick:()=>s("/"),className:"back-link",children:" "})}),w.jsx(XO,{lotteryId:r})]}):w.jsxs("div",{className:"draw-unauthorized",children:[w.jsx("h2",{children:""}),w.jsx("p",{children:""}),w.jsx("button",{onClick:()=>s("/"),className:"back-button",children:""})]})},JO=()=>{const{lotteryId:r}=NT(),{user:e,isAuthenticated:n,loading:s}=ia(),o=ru(),[u,f]=H.useState(null),[m,g]=H.useState([]),[y,E]=H.useState(!0),[T,R]=H.useState("");return H.useEffect(()=>{r&&n&&(async()=>{try{const K=await np(r);if(f(K),K&&e&&K.creatorId!==e.uid){o(`/draw/${r}`,{replace:!0});return}const F=await BO(r);g(F)}catch(K){R(""),console.error(K)}finally{E(!1)}})()},[r,e,n,o]),s||y?w.jsx("div",{className:"view-loading",children:w.jsx("div",{className:"loading-spinner-large"})}):n?T?w.jsxs("div",{className:"view-error",children:[w.jsx("span",{className:"error-icon",children:""}),w.jsx("p",{children:T}),w.jsx("button",{onClick:()=>o("/"),className:"back-button",children:""})]}):u?w.jsxs("div",{className:"view-lottery",children:[w.jsxs("header",{className:"view-header",children:[w.jsx("button",{onClick:()=>o("/"),className:"back-link",children:" "}),w.jsx("span",{className:`status-badge ${u.status}`,children:u.status==="active"?"":""})]}),w.jsxs("div",{className:"view-content",children:[w.jsx("h1",{className:"view-title",children:u.title}),w.jsxs("div",{className:"stats-grid",children:[w.jsxs("div",{className:"stat-card",children:[w.jsx("span",{className:"stat-icon",children:""}),w.jsxs("div",{className:"stat-info",children:[w.jsx("span",{className:"stat-label",children:""}),w.jsxs("span",{className:"stat-value",children:[u.remainingTotal," / ",u.totalCount]})]})]}),w.jsxs("div",{className:"stat-card",children:[w.jsx("span",{className:"stat-icon",children:""}),w.jsxs("div",{className:"stat-info",children:[w.jsx("span",{className:"stat-label",children:""}),w.jsx("span",{className:"stat-value highlight",children:u.remainingWinners})]})]})]}),u.remainingPrizes&&w.jsxs("section",{className:"prizes-section",children:[w.jsx("h2",{children:" "}),w.jsx("div",{className:"prizes-list",children:u.remainingPrizes.map((V,K)=>w.jsxs("div",{className:`prize-item ${V.remaining===0?"depleted":""}`,children:[w.jsxs("span",{className:"prize-rank",children:[K+1,""]}),w.jsx("span",{className:"prize-name",children:V.name}),w.jsxs("span",{className:"prize-count",children:[" ",V.remaining," / ",V.count," "]})]},K))})]}),w.jsxs("section",{className:"history-section",children:[w.jsx("h2",{children:" "}),m.length===0?w.jsx("p",{className:"no-history",children:""}):w.jsx("div",{className:"history-list",children:m.map((V,K)=>w.jsxs("div",{className:`history-item ${V.result}`,children:[w.jsx("span",{className:"history-nickname",children:V.nickname||""}),w.jsx("span",{className:`history-result ${V.result}`,children:V.result==="win"?` ${V.prizeName}`:""})]},K))})]}),w.jsxs("section",{className:"share-section",children:[w.jsx("h2",{children:" "}),w.jsxs("div",{className:"share-url",children:[w.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/draw/${r}`,onClick:V=>V.target.select()}),w.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/draw/${r}`),alert("URL")},children:""})]})]})]})]}):w.jsxs("div",{className:"view-error",children:[w.jsx("span",{className:"error-icon",children:""}),w.jsx("p",{children:""}),w.jsx("button",{onClick:()=>o("/"),className:"back-button",children:""})]}):w.jsxs("div",{className:"view-unauthorized",children:[w.jsx("h2",{children:""}),w.jsx("button",{onClick:()=>o("/"),className:"back-button",children:""})]})};function ZO(){return w.jsx(MO,{children:w.jsx(_b,{children:w.jsxs(Y1,{children:[w.jsx(Ol,{path:"/",element:w.jsx(FO,{})}),w.jsx(Ol,{path:"/create",element:w.jsx(QO,{})}),w.jsx(Ol,{path:"/draw/:lotteryId",element:w.jsx($O,{})}),w.jsx(Ol,{path:"/view/:lotteryId",element:w.jsx(JO,{})})]})})})}Jw.createRoot(document.getElementById("root")).render(w.jsx(H.StrictMode,{children:w.jsx(ZO,{})}));
